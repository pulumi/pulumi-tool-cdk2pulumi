{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.223.0"},"children":{"DevStage":{"id":"DevStage","path":"DevStage","constructInfo":{"fqn":"aws-cdk-lib.Stage","version":"2.223.0"},"children":{"MonitoringStack":{"id":"MonitoringStack","path":"DevStage/MonitoringStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"Monitoring":{"id":"Monitoring","path":"DevStage/MonitoringStack/Monitoring","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"DynamicDashboards":{"id":"DynamicDashboards","path":"DevStage/MonitoringStack/Monitoring/DynamicDashboards","constructInfo":{"fqn":"cdk-monitoring-constructs.DynamicDashboardFactory","version":"8.1.0"},"children":{"Infrastructure":{"id":"Infrastructure","path":"DevStage/MonitoringStack/Monitoring/DynamicDashboards/Infrastructure","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*","start":"*","periodOverride":"inherit"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*","*","*","*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*"]},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/DynamicDashboards/Infrastructure/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"start\":\"-PT8H\",\"periodOverride\":\"inherit\",\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item error\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item error\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"User Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"UserErrors\",{\"label\":\"user errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Condition Checks Failed\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConditionalCheckFailedRequests\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"condition checks failed\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Successful Request Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item throttled\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Write Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedWriteCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"write capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Read Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedReadCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"read capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":13,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item throttled\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":19,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Client Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"4xx\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"client error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Latency\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Requests\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Count\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"total requests\",\"stat\":\"SampleCount\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":26,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Server Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"5xx\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"server error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":32,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":33,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Cpu Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"cpu\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":33,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Memory Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"memory\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":39,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-Infrastructure"}}}}}}},"Facade":{"id":"Facade","path":"DevStage/MonitoringStack/Monitoring/Facade","constructInfo":{"fqn":"cdk-monitoring-constructs.MonitoringFacade","version":"8.1.0"},"children":{"Facade--SuccessLatency-Anomaly-Critical":{"id":"Facade--SuccessLatency-Anomaly-Critical","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--SuccessLatency-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--SuccessLatency-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--SuccessLatency-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(successLatency,3)","id":"expr_1","label":"successLatency","returnData":true},{"metricStat":{"metric":{"metricName":"SuccessfulRequestLatency","namespace":"AWS/DynamoDB","dimensions":[{"name":"Operation","value":"GetItem"},{"name":"TableName","value":{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}}]},"period":300,"stat":"Average"},"id":"successLatency","label":"successful request latency","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"PostsTableDashboard":{"id":"PostsTableDashboard","path":"DevStage/MonitoringStack/Monitoring/Facade/PostsTableDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/PostsTableDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### IntegrationLatencyAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}," Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"successLatency\",\"expression\":\"ANOMALY_DETECTION_BAND(successLatency,3)\"}],[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\",\"id\":\"successLatency\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-PostsTable-Alarms"}}}}},"PostsTableDashboardDetail":{"id":"PostsTableDashboardDetail","path":"DevStage/MonitoringStack/Monitoring/Facade/PostsTableDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*","*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/PostsTableDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item error\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item error\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"User Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"UserErrors\",{\"label\":\"user errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Condition Checks Failed\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConditionalCheckFailedRequests\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"condition checks failed\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Successful Request Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item throttled\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Write Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedWriteCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"write capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Read Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedReadCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"read capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":12,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item throttled\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-PostsTable-Detail"}}}}},"Facade--IntegrationLatency-Anomaly-Critical":{"id":"Facade--IntegrationLatency-Anomaly-Critical","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--IntegrationLatency-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--IntegrationLatency-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--IntegrationLatency-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(integrationLatency,3)","id":"expr_1","label":"integrationLatency","returnData":true},{"metricStat":{"metric":{"metricName":"IntegrationLatency","namespace":"AWS/ApiGateway","dimensions":[{"name":"ApiId","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"}}]},"period":300,"stat":"Average"},"id":"integrationLatency","label":"integration latency","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"ApiMonitorDashboard":{"id":"ApiMonitorDashboard","path":"DevStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### IntegrationLatencyAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"}," Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"integrationLatency\",\"expression\":\"ANOMALY_DETECTION_BAND(integrationLatency,3)\"}],[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\",\"id\":\"integrationLatency\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-ApiMonitor-Alarms"}}}}},"ApiMonitorDashboardDetail":{"id":"ApiMonitorDashboardDetail","path":"DevStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Client Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"4xx\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"client error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Latency\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Requests\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Count\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"total requests\",\"stat\":\"SampleCount\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Server Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"5xx\",\"ApiId\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"server error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-ApiMonitor-Detail"}}}}},"Facade-AppService-CPU-Usage-Cpu":{"id":"Facade-AppService-CPU-Usage-Cpu","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade-AppService-CPU-Usage-Cpu","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade-AppService-CPU-Usage-Cpu/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"The CPU usage is too high.","alarmName":"Facade-AppService-CPU-Usage-Cpu","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"CPUUtilization","namespace":"AWS/ECS","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"m1","label":"Cluster CPU Utilization","returnData":true}],"threshold":70,"treatMissingData":"missing"}}}}},"Facade-AppService-Memory-Usage-Memory":{"id":"Facade-AppService-Memory-Usage-Memory","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade-AppService-Memory-Usage-Memory","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade-AppService-Memory-Usage-Memory/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"The memory usage is too high.","alarmName":"Facade-AppService-Memory-Usage-Memory","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"MemoryUtilization","namespace":"AWS/ECS","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"m1","label":"Cluster Memory Utilization","returnData":true}],"threshold":70,"treatMissingData":"missing"}}}}},"Facade--RunningTasks-Anomaly-Critical":{"id":"Facade--RunningTasks-Anomaly-Critical","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--RunningTasks-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--RunningTasks-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--RunningTasks-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(runningTasks,3)","id":"expr_1","label":"runningTasks","returnData":true},{"metricStat":{"metric":{"metricName":"RunningTaskCount","namespace":"ECS/ContainerInsights","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"runningTasks","label":"Running Tasks","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"GetPostDashboard":{"id":"GetPostDashboard","path":"DevStage/MonitoringStack/Monitoring/Facade/GetPostDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/GetPostDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### RunningTasksAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}," Running Tasks\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"runningTasks\",\"expression\":\"ANOMALY_DETECTION_BAND(runningTasks,3)\"}],[\"ECS/ContainerInsights\",\"RunningTaskCount\",\"ClusterName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"Running Tasks\",\"id\":\"runningTasks\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-GetPost-Alarms"}}}}},"GetPostDashboardDetail":{"id":"GetPostDashboardDetail","path":"DevStage/MonitoringStack/Monitoring/Facade/GetPostDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/GetPostDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"getItemSuccess\",\"service\",\"GetPost\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"getItemFailure\",\"service\",\"GetItem\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Cpu Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"cpu\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Memory Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"memory\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-GetPost-Detail"}}}}},"Facade--Invocations-Anomaly-Critical":{"id":"Facade--Invocations-Anomaly-Critical","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--Invocations-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--Invocations-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--Invocations-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(invocations,3)","id":"expr_1","label":"invocations","returnData":true},{"metricStat":{"metric":{"metricName":"Invocations","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Sum"},"id":"invocations","label":"invocations","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"Facade--Duration-Anomaly-Critical":{"id":"Facade--Duration-Anomaly-Critical","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--Duration-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade--Duration-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--Duration-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(duration,3)","id":"expr_1","label":"duration","returnData":true},{"metricStat":{"metric":{"metricName":"Duration","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Average"},"id":"duration","label":"duration","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"CreateFunctionDashboard":{"id":"CreateFunctionDashboard","path":"DevStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]},{"addWidgets":[{},"*"]},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### DurationAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"duration\",\"expression\":\"ANOMALY_DETECTION_BAND(duration,3)\"}],[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\",\"id\":\"duration\",\"visible\":false}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":6,\"properties\":{\"markdown\":\"### ErrorsAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"annotations\":{\"horizontal\":[{\"label\":\"errors >= 3 for 3 datapoints within 15 minutes\",\"value\":3,\"yAxis\":\"left\"}]},\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":12,\"properties\":{\"markdown\":\"### InvocationsAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":13,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"invocations\",\"expression\":\"ANOMALY_DETECTION_BAND(invocations,3)\"}],[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"id\":\"invocations\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-CreateFunction-Alarms"}}}}},"CreateFunctionDashboardDetail":{"id":"CreateFunctionDashboardDetail","path":"DevStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"ColdStart\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"createPostFailure\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"createPostSuccess\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-CreateFunction-Detail"}}}}},"Facade-ErrorsAlarm-errors-Critical":{"id":"Facade-ErrorsAlarm-errors-Critical","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade-ErrorsAlarm-errors-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/MonitoringStack/Monitoring/Facade/Facade-ErrorsAlarm-errors-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Threshold of 3 has been breached.","alarmName":"Facade-ErrorsAlarm-errors-Critical","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"Errors","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"DevStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Sum"},"id":"m1","label":"errors","returnData":true}],"threshold":3,"treatMissingData":"missing"}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"DevStage/MonitoringStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"DevStage/MonitoringStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DevStage/MonitoringStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DevStage/MonitoringStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"DataStack":{"id":"DataStack","path":"DevStage/DataStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"PostsTable":{"id":"PostsTable","path":"DevStage/DataStack/PostsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST"}]},"children":{"Resource":{"id":"Resource","path":"DevStage/DataStack/PostsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"pk","keyType":"HASH"}]}}},"ScalingRole":{"id":"ScalingRole","path":"DevStage/DataStack/PostsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}}}},"CDKMetadata":{"id":"CDKMetadata","path":"DevStage/DataStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"DevStage/DataStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"DevStage/DataStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Output{\"Ref\":\"PostsTableC82B36F0\"}":{"id":"Output{\"Ref\":\"PostsTableC82B36F0\"}","path":"DevStage/DataStack/Exports/Output{\"Ref\":\"PostsTableC82B36F0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}","path":"DevStage/DataStack/Exports/Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DevStage/DataStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DevStage/DataStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"AppStack":{"id":"AppStack","path":"DevStage/AppStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"Network":{"id":"Network","path":"DevStage/AppStack/Network","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Vpc":{"id":"Vpc","path":"DevStage/AppStack/Network/Vpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.223.0","metadata":[{"maxAzs":"*"}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Network/Vpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"DevStage/AppStack/Network/Vpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"DevStage/AppStack/Network/Vpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PublicSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"DevStage/AppStack/Network/Vpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"DevStage/AppStack/Network/Vpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PublicSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"DevStage/AppStack/Network/Vpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPublicSubnet1RouteTable30235CE2"},"subnetId":{"Ref":"NetworkVpcPublicSubnet1Subnet36933139"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"DevStage/AppStack/Network/Vpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"routeTableId":{"Ref":"NetworkVpcPublicSubnet1RouteTable30235CE2"}}}},"EIP":{"id":"EIP","path":"DevStage/AppStack/Network/Vpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"DevStage/AppStack/Network/Vpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NetworkVpcPublicSubnet1EIPE0D52090","AllocationId"]},"subnetId":{"Ref":"NetworkVpcPublicSubnet1Subnet36933139"},"tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"DevStage/AppStack/Network/Vpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"DevStage/AppStack/Network/Vpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PublicSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"DevStage/AppStack/Network/Vpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"DevStage/AppStack/Network/Vpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PublicSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"DevStage/AppStack/Network/Vpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPublicSubnet2RouteTable0FACEBB2"},"subnetId":{"Ref":"NetworkVpcPublicSubnet2SubnetC427CCE0"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"DevStage/AppStack/Network/Vpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"routeTableId":{"Ref":"NetworkVpcPublicSubnet2RouteTable0FACEBB2"}}}},"EIP":{"id":"EIP","path":"DevStage/AppStack/Network/Vpc/PublicSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PublicSubnet2"}]}}},"NATGateway":{"id":"NATGateway","path":"DevStage/AppStack/Network/Vpc/PublicSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NetworkVpcPublicSubnet2EIP24F41572","AllocationId"]},"subnetId":{"Ref":"NetworkVpcPublicSubnet2SubnetC427CCE0"},"tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PublicSubnet2"}]}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PrivateSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PrivateSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPrivateSubnet1RouteTable7D7AA3CD"},"subnetId":{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NetworkVpcPublicSubnet1NATGateway64781A21"},"routeTableId":{"Ref":"NetworkVpcPrivateSubnet1RouteTable7D7AA3CD"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PrivateSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc/PrivateSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPrivateSubnet2RouteTableC48862D1"},"subnetId":{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"DevStage/AppStack/Network/Vpc/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NetworkVpcPublicSubnet2NATGateway42CB86F5"},"routeTableId":{"Ref":"NetworkVpcPrivateSubnet2RouteTableC48862D1"}}}}}},"IGW":{"id":"IGW","path":"DevStage/AppStack/Network/Vpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"DevStage/AppStack/Network/Vpc"}]}}},"VPCGW":{"id":"VPCGW","path":"DevStage/AppStack/Network/Vpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"DevStage/AppStack/Network/Vpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.223.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"DevStage/AppStack/Network/Vpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}}}},"Cluster":{"id":"Cluster","path":"DevStage/AppStack/Network/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.223.0","metadata":[{"enableFargateCapacityProviders":true,"containerInsights":true,"defaultCloudMapNamespace":{"name":"*"},"vpc":"*"},{"enableFargateCapacityProviders":[]},{"addDefaultCloudMapNamespace":[{"name":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Network/Cluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterSettings":[{"name":"containerInsights","value":"enabled"}]}}},"DefaultServiceDiscoveryNamespace":{"id":"DefaultServiceDiscoveryNamespace","path":"DevStage/AppStack/Network/Cluster/DefaultServiceDiscoveryNamespace","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.PrivateDnsNamespace","version":"2.223.0","metadata":[{"name":"*","vpc":"*"}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Network/Cluster/DefaultServiceDiscoveryNamespace/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnPrivateDnsNamespace","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::PrivateDnsNamespace","aws:cdk:cloudformation:props":{"name":"blog-dev.com","vpc":{"Ref":"NetworkVpc7FB7348F"}}}}}},"Cluster":{"id":"Cluster","path":"DevStage/AppStack/Network/Cluster/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnClusterCapacityProviderAssociations","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::ClusterCapacityProviderAssociations","aws:cdk:cloudformation:props":{"capacityProviders":["FARGATE","FARGATE_SPOT"],"cluster":{"Ref":"NetworkCluster17B54D11"},"defaultCapacityProviderStrategy":[]}}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"DevStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.223.0"},"children":{"Staging":{"id":"Staging","path":"DevStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"Role":{"id":"Role","path":"DevStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}},"Handler":{"id":"Handler","path":"DevStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Api":{"id":"Api","path":"DevStage/AppStack/Api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpApi","version":"2.223.0","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"name":"Api","protocolType":"HTTP"}}},"DefaultStage":{"id":"DefaultStage","path":"DevStage/AppStack/Api/DefaultStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpStage","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Api/DefaultStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"autoDeploy":true,"stageName":"$default"}}}}},"VpcLinkSg":{"id":"VpcLinkSg","path":"DevStage/AppStack/Api/VpcLinkSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.223.0","metadata":[{"vpc":"*","allowAllIpv6Outbound":true,"allowAllOutbound":true,"description":"*"},{"addEgressRule":["*",{},"*",true]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Api/VpcLinkSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security Group for API Gateway Vpc Link","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"},{"ipProtocol":"-1","cidrIpv6":"::/0","description":"Allow all outbound ipv6 traffic by default"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}}}},"VpcLink":{"id":"VpcLink","path":"DevStage/AppStack/Api/VpcLink","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.VpcLink","version":"2.223.0","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Api/VpcLink/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnVpcLink","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::VpcLink","aws:cdk:cloudformation:props":{"name":"DevStageAppStackApiVpcLink55D580B9","securityGroupIds":[{"Fn::GetAtt":["ApiVpcLinkSg585A62E1","GroupId"]}],"subnetIds":[{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"},{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"}]}}}}},"GET--posts--{id}":{"id":"GET--posts--{id}","path":"DevStage/AppStack/Api/GET--posts--{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.223.0","metadata":["*"]},"children":{"getPost":{"id":"getPost","path":"DevStage/AppStack/Api/GET--posts--{id}/getPost","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Api/GET--posts--{id}/getPost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"connectionId":{"Ref":"ApiVpcLink4F321C68"},"connectionType":"VPC_LINK","integrationMethod":"ANY","integrationType":"HTTP_PROXY","integrationUri":{"Fn::GetAtt":["GetPostAppServiceCloudmapService52F860BF","Arn"]},"payloadFormatVersion":"1.0"}}}}},"Resource":{"id":"Resource","path":"DevStage/AppStack/Api/GET--posts--{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"authorizationType":"NONE","routeKey":"GET /posts/{id}","target":{"Fn::Join":["",["integrations/",{"Ref":"ApiGETpostsidgetPostB2674F9F"}]]}}}}}},"POST--posts":{"id":"POST--posts","path":"DevStage/AppStack/Api/POST--posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.223.0","metadata":["*"]},"children":{"createPost":{"id":"createPost","path":"DevStage/AppStack/Api/POST--posts/createPost","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/Api/POST--posts/createPost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["CreatePostD3E67D61","Arn"]},"payloadFormatVersion":"2.0"}}}}},"createPost-Permission":{"id":"createPost-Permission","path":"DevStage/AppStack/Api/POST--posts/createPost-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreatePostD3E67D61","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiF70053CD"},"/*/*/posts"]]}}}},"Resource":{"id":"Resource","path":"DevStage/AppStack/Api/POST--posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"authorizationType":"NONE","routeKey":"POST /posts","target":{"Fn::Join":["",["integrations/",{"Ref":"ApiPOSTpostscreatePostF4B703B7"}]]}}}}}}}},"GetPost":{"id":"GetPost","path":"DevStage/AppStack/GetPost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"GetPost":{"id":"GetPost","path":"DevStage/AppStack/GetPost/GetPost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"LogGroup":{"id":"LogGroup","path":"DevStage/AppStack/GetPost/GetPost/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.223.0","metadata":[{"retention":30}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30}}}}},"TaskDef":{"id":"TaskDef","path":"DevStage/AppStack/GetPost/GetPost/TaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.223.0","metadata":["*","*","*","*","*","*","*","*","*","*","*","*","*"]},"children":{"TaskRole":{"id":"TaskRole","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AWSXRayDaemonWriteAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cloudwatch:PutMetricData","Effect":"Allow","Resource":"*"},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputFnGetAttPostsTableC82B36F0Arn40084DA1"},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"GetPostTaskDefTaskRoleDefaultPolicy48191C35","roles":[{"Ref":"GetPostTaskDefTaskRoleB6AF59D2"}]}}}}}}},"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"${AWS::AccountId}.dkr.ecr.us-east-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-${AWS::AccountId}-us-east-2:be81be754e1d0de5677163c355e558fbb9398bf0caadea46d533ec2487b7aca1"},"name":"getPost","portMappings":[{"containerPort":8080,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"getPost","awslogs-region":"us-east-2"}},"environment":[{"name":"TABLE_NAME","value":{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}},{"name":"AWS_EMF_AGENT_ENDPOINT","value":"tcp://127.0.0.1:25888"},{"name":"LOG_LEVEL","value":"DEBUG"},{"name":"POWERTOOLS_SERVICE_NAME","value":"GetPostService"},{"name":"POWERTOOLS_METRICS_NAMESPACE","value":"blogApp"},{"name":"ENV","value":"dev"}],"healthCheck":{"command":["CMD-SHELL","curl -s http://127.0.0.1:8080/health"],"interval":5,"retries":1,"startPeriod":10,"timeout":2}},{"essential":true,"image":"amazon/aws-xray-daemon:latest","memoryReservation":256,"name":"xray","portMappings":[{"containerPort":2000,"protocol":"udp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"xray","awslogs-region":"us-east-2"}},"environment":[{"name":"AWS_REGION","value":"us-east-2"}],"healthCheck":{"command":["CMD-SHELL","curl -s http://localhost:2000"],"interval":5,"retries":3,"startPeriod":10,"timeout":2}},{"essential":true,"image":"public.ecr.aws/cloudwatch-agent/cloudwatch-agent:latest","memoryReservation":50,"name":"cloudwatch-agent","portMappings":[{"containerPort":25888,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"cloudwatch-agent","awslogs-region":"us-east-2"}},"environment":[{"name":"CW_CONFIG_CONTENT","value":"{\"logs\":{\"metrics_collected\":{\"emf\":{}}},\"metrics\":{\"metrics_collected\":{\"statsd\":{}}}}"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["GetPostTaskDefExecutionRoleAAEEA792","Arn"]},"family":"DevStageAppStackGetPostTaskDefDF937EC5","memory":"1024","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["GetPostTaskDefTaskRoleB6AF59D2","Arn"]}}}},"getPost":{"id":"getPost","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/getPost","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"},"children":{"AssetImage":{"id":"AssetImage","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.223.0"},"children":{"Staging":{"id":"Staging","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"Repository":{"id":"Repository","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.223.0","metadata":[]}}}}}},"ExecutionRole":{"id":"ExecutionRole","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*"},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:ecr:us-east-2:",{"Ref":"AWS::AccountId"},":repository/",{"Fn::Sub":"cdk-hnb659fds-container-assets-${AWS::AccountId}-us-east-2"}]]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["GetPostLogGroup615A249A","Arn"]}}],"Version":"2012-10-17"},"policyName":"GetPostTaskDefExecutionRoleDefaultPolicy7D07E747","roles":[{"Ref":"GetPostTaskDefExecutionRoleAAEEA792"}]}}}}}}},"xray":{"id":"xray","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/xray","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"}},"cloudwatch-agent":{"id":"cloudwatch-agent","path":"DevStage/AppStack/GetPost/GetPost/TaskDef/cloudwatch-agent","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"}}}},"AppService":{"id":"AppService","path":"DevStage/AppStack/GetPost/GetPost/AppService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.223.0","metadata":["*"]},"children":{"Service":{"id":"Service","path":"DevStage/AppStack/GetPost/GetPost/AppService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"NetworkCluster17B54D11"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"deploymentCircuitBreaker":{"enable":true,"rollback":true}},"deploymentController":{"type":"ECS"},"enableEcsManagedTags":true,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"},{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"}],"securityGroups":[{"Fn::GetAtt":["GetPostAppServiceSecurityGroup04A7E398","GroupId"]}]}},"serviceRegistries":[{"registryArn":{"Fn::GetAtt":["GetPostAppServiceCloudmapService52F860BF","Arn"]},"containerName":"getPost","containerPort":8080}],"taskDefinition":{"Ref":"GetPostTaskDef74D442CE"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"DevStage/AppStack/GetPost/GetPost/AppService/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.223.0","metadata":[{"vpc":"*"},{"addIngressRule":["*",{},"*",false]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/AppService/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"DevStage/AppStack/GetPost/GetPost/AppService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"from DevStageAppStackApiVpcLinkSg04B0EC9D:8080":{"id":"from DevStageAppStackApiVpcLinkSg04B0EC9D:8080","path":"DevStage/AppStack/GetPost/GetPost/AppService/SecurityGroup/from DevStageAppStackApiVpcLinkSg04B0EC9D:8080","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from DevStageAppStackApiVpcLinkSg04B0EC9D:8080","fromPort":8080,"groupId":{"Fn::GetAtt":["GetPostAppServiceSecurityGroup04A7E398","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ApiVpcLinkSg585A62E1","GroupId"]},"toPort":8080}}}}},"CloudmapService":{"id":"CloudmapService","path":"DevStage/AppStack/GetPost/GetPost/AppService/CloudmapService","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.Service","version":"2.223.0","metadata":[{"namespace":"*","name":"*","dnsRecordType":"SRV","customHealthCheck":{"failureThreshold":"*"},"dnsTtl":"*"}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/AppService/CloudmapService/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnService","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::Service","aws:cdk:cloudformation:props":{"dnsConfig":{"dnsRecords":[{"type":"SRV","ttl":60}],"namespaceId":{"Fn::GetAtt":["NetworkClusterDefaultServiceDiscoveryNamespaceD090BA35","Id"]},"routingPolicy":"MULTIVALUE"},"healthCheckCustomConfig":{"failureThreshold":1},"namespaceId":{"Fn::GetAtt":["NetworkClusterDefaultServiceDiscoveryNamespaceD090BA35","Id"]}}}}}},"ScalingRole":{"id":"ScalingRole","path":"DevStage/AppStack/GetPost/GetPost/AppService/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"TaskCount":{"id":"TaskCount","path":"DevStage/AppStack/GetPost/GetPost/AppService/TaskCount","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ScalableTaskCount","version":"2.223.0"},"children":{"Target":{"id":"Target","path":"DevStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.ScalableTarget","version":"2.223.0","metadata":[{"serviceNamespace":"ecs","scalableDimension":"*","resourceId":"*","role":"*","minCapacity":"*","maxCapacity":"*"},{"scaleToTrackMetric":["*",{"predefinedMetric":"*","targetValue":"*","policyName":"*","disableScaleIn":"*","scaleInCooldown":"*"}]},{"scaleToTrackMetric":["*",{"predefinedMetric":"*","policyName":"*","disableScaleIn":"*","targetValue":"*","scaleInCooldown":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalableTarget","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalableTarget","aws:cdk:cloudformation:props":{"maxCapacity":10,"minCapacity":1,"resourceId":{"Fn::Join":["",["service/",{"Ref":"NetworkCluster17B54D11"},"/",{"Fn::GetAtt":["GetPostAppServiceA50C5323","Name"]}]]},"roleArn":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService"]]},"scalableDimension":"ecs:service:DesiredCount","serviceNamespace":"ecs"}}},"MemoryScaling":{"id":"MemoryScaling","path":"DevStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/MemoryScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/MemoryScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"DevStageAppStackGetPostAppServiceTaskCountTargetMemoryScaling70206AA6","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"GetPostAppServiceTaskCountTarget29996380"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageMemoryUtilization"},"targetValue":60}}}}}},"CpuScaling":{"id":"CpuScaling","path":"DevStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/CpuScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/CpuScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"DevStageAppStackGetPostAppServiceTaskCountTargetCpuScaling17E10EB0","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"GetPostAppServiceTaskCountTarget29996380"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageCPUUtilization"},"targetValue":60}}}}}}}}}}}},"Rule":{"id":"Rule","path":"DevStage/AppStack/GetPost/GetPost/Rule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.223.0","metadata":[{"eventPattern":{"detailType":"*","source":"*","detail":"*"}},{"addEventPattern":[{"detailType":"*","source":"*","detail":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/Rule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"detail-type":["ECS Task State Change"],"source":["aws.ecs"],"detail":{"clusterArn":[{"Fn::GetAtt":["NetworkCluster17B54D11","Arn"]}],"desiredStatus":["STOPPED"],"stopCode":["ServiceSchedulerInitiated"],"stoppedReason":["Task failed container health checks"],"containers":{"name":["getPost"]}}},"state":"ENABLED"}}}}},"DeploymentFailing":{"id":"DeploymentFailing","path":"DevStage/AppStack/GetPost/GetPost/DeploymentFailing","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"threshold":"*","evaluationPeriods":"*","treatMissingData":"notBreaching"}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/GetPost/GetPost/DeploymentFailing/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"RuleName","value":{"Ref":"GetPostRule216A33F2"}}],"evaluationPeriods":1,"metricName":"TriggeredRules","namespace":"AWS/Events","period":10,"statistic":"Average","threshold":1,"treatMissingData":"notBreaching","unit":"Count"}}}}}}}}},"CreatePost":{"id":"CreatePost","path":"DevStage/AppStack/CreatePost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"PowertoolsLayer":{"id":"PowertoolsLayer","path":"DevStage/AppStack/CreatePost/PowertoolsLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"CreatePost":{"id":"CreatePost","path":"DevStage/AppStack/CreatePost/CreatePost","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[{"description":"*","environment":"*","layers":["*"],"memorySize":"*","tracing":"Active","architecture":"*","runtime":"*","handler":"*","code":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":["*"]},{"addEnvironment":["*","*",{"removeInEdge":true}]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"DevStage/AppStack/CreatePost/CreatePost/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"DevStage/AppStack/CreatePost/CreatePost/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"DevStage/AppStack/CreatePost/CreatePost/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"DevStage/AppStack/CreatePost/CreatePost/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/CreatePost/CreatePost/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputFnGetAttPostsTableC82B36F0Arn40084DA1"},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"CreatePostServiceRoleDefaultPolicy45EA3357","roles":[{"Ref":"CreatePostServiceRole3F6FFE7F"}]}}}}}}},"Code":{"id":"Code","path":"DevStage/AppStack/CreatePost/CreatePost/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"DevStage/AppStack/CreatePost/CreatePost/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"DevStage/AppStack/CreatePost/CreatePost/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"DevStage/AppStack/CreatePost/CreatePost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-2"},"s3Key":"a719789b9a9d29df4465106a3d79f53742df35de33fce3c8d5ebfba8cb5b63b2.zip"},"description":"src/posts/create.lambda.ts","environment":{"variables":{"LOG_LEVEL":"DEBUG","POWERTOOLS_LOGGER_LOG_EVENT":"true","POWERTOOLS_SERVICE_NAME":"CreateFunction","POWERTOOLS_METRICS_NAMESPACE":"blogApp","ENV":"dev","TABLE_NAME":{"Fn::ImportValue":"DevStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","layers":["arn:aws:lambda:us-east-2:094274105915:layer:AWSLambdaPowertoolsTypeScript:15"],"memorySize":256,"role":{"Fn::GetAtt":["CreatePostServiceRole3F6FFE7F","Arn"]},"runtime":"nodejs18.x","tracingConfig":{"mode":"Active"}}}},"LogGroup":{"id":"LogGroup","path":"DevStage/AppStack/CreatePost/CreatePost/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.223.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"DevStage/AppStack/CreatePost/CreatePost/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"CreatePostD3E67D61"}]]},"retentionInDays":731}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"DevStage/AppStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"DevStage/AppStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"DevStage/AppStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Output{\"Ref\":\"ApiF70053CD\"}":{"id":"Output{\"Ref\":\"ApiF70053CD\"}","path":"DevStage/AppStack/Exports/Output{\"Ref\":\"ApiF70053CD\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}","path":"DevStage/AppStack/Exports/Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"NetworkCluster17B54D11\"}":{"id":"Output{\"Ref\":\"NetworkCluster17B54D11\"}","path":"DevStage/AppStack/Exports/Output{\"Ref\":\"NetworkCluster17B54D11\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"CreatePostD3E67D61\"}":{"id":"Output{\"Ref\":\"CreatePostD3E67D61\"}","path":"DevStage/AppStack/Exports/Output{\"Ref\":\"CreatePostD3E67D61\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DevStage/AppStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DevStage/AppStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}}}},"BlogPost-PipelineStack":{"id":"BlogPost-PipelineStack","path":"BlogPost-PipelineStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"DeliveryPipeline":{"id":"DeliveryPipeline","path":"BlogPost-PipelineStack/DeliveryPipeline","constructInfo":{"fqn":"aws-cdk-lib.pipelines.CodePipeline","version":"2.223.0"},"children":{"Pipeline":{"id":"Pipeline","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"2.223.0","metadata":[{"pipelineName":"*","pipelineType":"V2","crossAccountKeys":true,"crossRegionReplicationBuckets":"*","reuseCrossRegionSupportStacks":"*","restartExecutionOnUpdate":true,"role":"*","enableKeyRotation":"*","artifactBucket":"*","usePipelineRoleForActions":false},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]}]},"children":{"ArtifactsBucketEncryptionKey":{"id":"ArtifactsBucketEncryptionKey","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ArtifactsBucketEncryptionKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.223.0","metadata":[{"removalPolicy":"destroy","enableKeyRotation":"*"}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ArtifactsBucketEncryptionKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::183533638597:root"},"Resource":"*"},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Principal":{"AWS":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-deploy-role-202865745565-us-east-2"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-deploy-role-616138583583-us-east-2"]]}]},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"ArtifactsBucketEncryptionKeyAlias":{"id":"ArtifactsBucketEncryptionKeyAlias","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ArtifactsBucketEncryptionKeyAlias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"2.223.0","metadata":[{"aliasName":"*","targetKey":"*","removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ArtifactsBucketEncryptionKeyAlias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/codepipeline-blogpost-pipelinestack-deliverypipeline-77084836","targetKeyId":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}}}}}},"ArtifactsBucket":{"id":"ArtifactsBucket","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.223.0","metadata":[{"bucketName":"*","encryptionKey":"*","encryption":"KMS","enforceSSL":true,"blockPublicAccess":"*","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}}},"Policy":{"id":"Policy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.223.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"DeliveryPipelineArtifactsBucket50D7B562"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Principal":{"AWS":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-deploy-role-202865745565-us-east-2"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-deploy-role-616138583583-us-east-2"]]}]},"Resource":[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"Role":{"id":"Role","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*"},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":[{"Fn::GetAtt":["DeliveryPipelineCodeBuildActionRole6F6BA341","Arn"]},{"Fn::GetAtt":["DeliveryPipelineSourcecorymhallcdkexampleappCodePipelineActionRole3A8474A9","Arn"]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-deploy-role-202865745565-us-east-2"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-deploy-role-616138583583-us-east-2"]]}]}],"Version":"2012-10-17"},"policyName":"DeliveryPipelineRoleDefaultPolicy8EC84F73","roles":[{"Ref":"DeliveryPipelineRoleF6A8B27D"}]}}}}}}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"DeliveryPipelineArtifactsBucket50D7B562"},"encryptionKey":{"type":"KMS","id":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}}},"pipelineType":"V2","restartExecutionOnUpdate":true,"roleArn":{"Fn::GetAtt":["DeliveryPipelineRoleF6A8B27D","Arn"]},"stages":[{"name":"Source","actions":[{"name":"corymhall_cdk-example-app","outputArtifacts":[{"name":"corymhall_cdk_example_app_Source"}],"actionTypeId":{"category":"Source","version":"1","owner":"AWS","provider":"CodeStarSourceConnection"},"configuration":{"ConnectionArn":"arn:aws:codestar-connections:us-east-2:183533638597:connection/ca65d486-ca6e-41cb-aab2-645db37fdb2c","FullRepositoryId":"corymhall/cdk-example-app","BranchName":"main"},"runOrder":1,"roleArn":{"Fn::GetAtt":["DeliveryPipelineSourcecorymhallcdkexampleappCodePipelineActionRole3A8474A9","Arn"]}}]},{"name":"Build","actions":[{"name":"synth","inputArtifacts":[{"name":"corymhall_cdk_example_app_Source"}],"outputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"DeliveryPipelineBuildsynthCdkBuildProjectCA58E07E"},"EnvironmentVariables":"[{\"name\":\"_PROJECT_CONFIG_HASH\",\"type\":\"PLAINTEXT\",\"value\":\"c304f8e23f9fcfbcf760f14ccf730df750454f903ee898c910f39f0e984e8967\"}]"},"runOrder":1,"roleArn":{"Fn::GetAtt":["DeliveryPipelineCodeBuildActionRole6F6BA341","Arn"]}}]},{"name":"UpdatePipeline","actions":[{"name":"SelfMutate","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"DeliveryPipelineUpdatePipelineSelfMutationD9095118"},"EnvironmentVariables":"[{\"name\":\"_PROJECT_CONFIG_HASH\",\"type\":\"PLAINTEXT\",\"value\":\"8a2ca1befc3bf4428e4192cd655297206ba3d98f636c876ec442937f31f2cb87\"}]"},"runOrder":1,"roleArn":{"Fn::GetAtt":["DeliveryPipelineCodeBuildActionRole6F6BA341","Arn"]}}]},{"name":"Assets","actions":[{"name":"GetPost_GetPost_TaskDef_getPost_AssetImage","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"DeliveryPipelineAssetsDockerAsset1E0195F52"}},"runOrder":1,"roleArn":{"Fn::GetAtt":["DeliveryPipelineCodeBuildActionRole6F6BA341","Arn"]}},{"name":"PreProdStage_AppStack_Custom_VpcRestrictDefaultSGCustomResourceProvider_Code","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"DeliveryPipelineAssetsFileAsset1BE0ECCF2"}},"runOrder":1,"roleArn":{"Fn::GetAtt":["DeliveryPipelineCodeBuildActionRole6F6BA341","Arn"]}},{"name":"CreatePost_CreatePost_Code","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"DeliveryPipelineAssetsFileAsset2AB569039"}},"runOrder":1,"roleArn":{"Fn::GetAtt":["DeliveryPipelineCodeBuildActionRole6F6BA341","Arn"]}}]},{"name":"PreProdStage","actions":[{"name":"DataStack.Deploy","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"PreProdStage-DataStack","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2"]]},"ActionMode":"CREATE_UPDATE","TemplatePath":"synth_Output::assembly-PreProdStage/PreProdStageDataStackAB502BEE.template.json"},"runOrder":1,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-deploy-role-616138583583-us-east-2"]]}},{"name":"AppStack.Deploy","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"PreProdStage-AppStack","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2"]]},"ActionMode":"CREATE_UPDATE","TemplatePath":"synth_Output::assembly-PreProdStage/PreProdStageAppStackE27EBDE4.template.json"},"runOrder":2,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-deploy-role-616138583583-us-east-2"]]}},{"name":"MonitoringStack.Deploy","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"PreProdStage-MonitoringStack","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2"]]},"ActionMode":"CREATE_UPDATE","TemplatePath":"synth_Output::assembly-PreProdStage/PreProdStageMonitoringStack3F8DD52C.template.json"},"runOrder":3,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::616138583583:role/cdk-hnb659fds-deploy-role-616138583583-us-east-2"]]}}]},{"name":"ProdStage","actions":[{"name":"DataStack.Deploy","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"ProdStage-DataStack","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2"]]},"ActionMode":"CREATE_UPDATE","TemplatePath":"synth_Output::assembly-ProdStage/ProdStageDataStack3782B3DF.template.json"},"runOrder":1,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-deploy-role-202865745565-us-east-2"]]}},{"name":"AppStack.Deploy","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"ProdStage-AppStack","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2"]]},"ActionMode":"CREATE_UPDATE","TemplatePath":"synth_Output::assembly-ProdStage/ProdStageAppStack5A0FCE90.template.json"},"runOrder":2,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-deploy-role-202865745565-us-east-2"]]}},{"name":"MonitoringStack.Deploy","inputArtifacts":[{"name":"synth_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"ProdStage-MonitoringStack","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2"]]},"ActionMode":"CREATE_UPDATE","TemplatePath":"synth_Output::assembly-ProdStage/ProdStageMonitoringStack4E1682EC.template.json"},"runOrder":3,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::202865745565:role/cdk-hnb659fds-deploy-role-202865745565-us-east-2"]]}}]}]}}},"Source":{"id":"Source","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Source","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"corymhall_cdk-example-app":{"id":"corymhall_cdk-example-app","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Source/corymhall_cdk-example-app","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Source/corymhall_cdk-example-app/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Source/corymhall_cdk-example-app/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Source/corymhall_cdk-example-app/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["DeliveryPipelineRoleF6A8B27D","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Source/corymhall_cdk-example-app/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Source/corymhall_cdk-example-app/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"codestar-connections:UseConnection","Effect":"Allow","Resource":"arn:aws:codestar-connections:us-east-2:183533638597:connection/ca65d486-ca6e-41cb-aab2-645db37fdb2c"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}},{"Action":["s3:PutObjectAcl","s3:PutObjectVersionAcl"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}}],"Version":"2012-10-17"},"policyName":"DeliveryPipelineSourcecorymhallcdkexampleappCodePipelineActionRoleDefaultPolicy7180FACF","roles":[{"Ref":"DeliveryPipelineSourcecorymhallcdkexampleappCodePipelineActionRole3A8474A9"}]}}}}}}}}}}},"Build":{"id":"Build","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"synth":{"id":"synth","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build/synth","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"CdkBuildProject":{"id":"CdkBuildProject","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build/synth/CdkBuildProject","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.223.0","metadata":[{},{},{}]},"children":{"Role":{"id":"Role","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build/synth/CdkBuildProject/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build/synth/CdkBuildProject/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build/synth/CdkBuildProject/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build/synth/CdkBuildProject/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build/synth/CdkBuildProject/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:logs:us-east-2:183533638597:log-group:/aws/codebuild/",{"Ref":"DeliveryPipelineBuildsynthCdkBuildProjectCA58E07E"},":*"]]},{"Fn::Join":["",["arn:aws:logs:us-east-2:183533638597:log-group:/aws/codebuild/",{"Ref":"DeliveryPipelineBuildsynthCdkBuildProjectCA58E07E"}]]}]},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:codebuild:us-east-2:183533638597:report-group/",{"Ref":"DeliveryPipelineBuildsynthCdkBuildProjectCA58E07E"},"-*"]]}},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}}],"Version":"2012-10-17"},"policyName":"DeliveryPipelineBuildsynthCdkBuildProjectRoleDefaultPolicyAA66A2A3","roles":[{"Ref":"DeliveryPipelineBuildsynthCdkBuildProjectRoleC09C9485"}]}}}}}}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Build/synth/CdkBuildProject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step BlogPost-PipelineStack/Pipeline/Build/synth","encryptionKey":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]},"environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["DeliveryPipelineBuildsynthCdkBuildProjectRoleC09C9485","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"build\": {\n      \"commands\": [\n        \"yarn install --frozen-lockfile\",\n        \"npx cdk synth\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"base-directory\": \"cdk.out\",\n    \"files\": \"**/*\"\n  }\n}"}}}}}}}}}},"UpdatePipeline":{"id":"UpdatePipeline","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/UpdatePipeline","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"SelfMutate":{"id":"SelfMutate","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/UpdatePipeline/SelfMutate","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}}}},"Assets":{"id":"Assets","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Assets","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"GetPost_GetPost_TaskDef_getPost_AssetImage":{"id":"GetPost_GetPost_TaskDef_getPost_AssetImage","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Assets/GetPost_GetPost_TaskDef_getPost_AssetImage","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}},"PreProdStage_AppStack_Custom_VpcRestrictDefaultSGCustomResourceProvider_Code":{"id":"PreProdStage_AppStack_Custom_VpcRestrictDefaultSGCustomResourceProvider_Code","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Assets/PreProdStage_AppStack_Custom_VpcRestrictDefaultSGCustomResourceProvider_Code","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}},"CreatePost_CreatePost_Code":{"id":"CreatePost_CreatePost_Code","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/Assets/CreatePost_CreatePost_Code","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}}}},"PreProdStage":{"id":"PreProdStage","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/PreProdStage","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"DataStack.Deploy":{"id":"DataStack.Deploy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/PreProdStage/DataStack.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}},"AppStack.Deploy":{"id":"AppStack.Deploy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/PreProdStage/AppStack.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}},"MonitoringStack.Deploy":{"id":"MonitoringStack.Deploy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/PreProdStage/MonitoringStack.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}}}},"MutableRolearn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-deploy-role-616138583583-us-east-2":{"id":"MutableRolearn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-deploy-role-616138583583-us-east-2","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/MutableRolearn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-deploy-role-616138583583-us-east-2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*","*","*","*","*","*","*"]}},"arn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-deploy-role-616138583583-us-east-2":{"id":"arn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-deploy-role-616138583583-us-east-2","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/arn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-deploy-role-616138583583-us-east-2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*","*","*","*","*","*","*","*","*","*","*","*","*","*"]},"children":{"8389e75f-0810-4838-bf64-d6f85a95cf83":{"id":"8389e75f-0810-4838-bf64-d6f85a95cf83","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/arn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-deploy-role-616138583583-us-east-2/8389e75f-0810-4838-bf64-d6f85a95cf83","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}}}},"MutableRolearn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2":{"id":"MutableRolearn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/MutableRolearn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"arn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2":{"id":"arn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/arn:${AWS::Partition}:iam::616138583583:role--cdk-hnb659fds-cfn-exec-role-616138583583-us-east-2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"ProdStage":{"id":"ProdStage","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ProdStage","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"DataStack.Deploy":{"id":"DataStack.Deploy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ProdStage/DataStack.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}},"AppStack.Deploy":{"id":"AppStack.Deploy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ProdStage/AppStack.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}},"MonitoringStack.Deploy":{"id":"MonitoringStack.Deploy","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/ProdStage/MonitoringStack.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}}}},"MutableRolearn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-deploy-role-202865745565-us-east-2":{"id":"MutableRolearn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-deploy-role-202865745565-us-east-2","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/MutableRolearn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-deploy-role-202865745565-us-east-2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*","*","*","*","*","*","*"]}},"arn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-deploy-role-202865745565-us-east-2":{"id":"arn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-deploy-role-202865745565-us-east-2","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/arn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-deploy-role-202865745565-us-east-2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*","*","*","*","*","*","*","*","*","*","*","*","*","*"]},"children":{"8389e75f-0810-4838-bf64-d6f85a95cf83":{"id":"8389e75f-0810-4838-bf64-d6f85a95cf83","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/arn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-deploy-role-202865745565-us-east-2/8389e75f-0810-4838-bf64-d6f85a95cf83","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}}}},"MutableRolearn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2":{"id":"MutableRolearn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/MutableRolearn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"arn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2":{"id":"arn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2","path":"BlogPost-PipelineStack/DeliveryPipeline/Pipeline/arn:${AWS::Partition}:iam::202865745565:role--cdk-hnb659fds-cfn-exec-role-202865745565-us-east-2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}}}},"CodeBuildActionRole":{"id":"CodeBuildActionRole","path":"BlogPost-PipelineStack/DeliveryPipeline/CodeBuildActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":"*"},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportCodeBuildActionRole":{"id":"ImportCodeBuildActionRole","path":"BlogPost-PipelineStack/DeliveryPipeline/CodeBuildActionRole/ImportCodeBuildActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/CodeBuildActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["DeliveryPipelineRoleF6A8B27D","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BlogPost-PipelineStack/DeliveryPipeline/CodeBuildActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/CodeBuildActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeliveryPipelineAssetsDockerAsset1E0195F52","Arn"]},{"Fn::GetAtt":["DeliveryPipelineAssetsFileAsset1BE0ECCF2","Arn"]},{"Fn::GetAtt":["DeliveryPipelineAssetsFileAsset2AB569039","Arn"]},{"Fn::GetAtt":["DeliveryPipelineBuildsynthCdkBuildProjectCA58E07E","Arn"]},{"Fn::GetAtt":["DeliveryPipelineUpdatePipelineSelfMutationD9095118","Arn"]}]}],"Version":"2012-10-17"},"policyName":"DeliveryPipelineCodeBuildActionRoleDefaultPolicyDF8105B2","roles":[{"Ref":"DeliveryPipelineCodeBuildActionRole6F6BA341"}]}}}}}}},"UpdatePipeline":{"id":"UpdatePipeline","path":"BlogPost-PipelineStack/DeliveryPipeline/UpdatePipeline","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"SelfMutation":{"id":"SelfMutation","path":"BlogPost-PipelineStack/DeliveryPipeline/UpdatePipeline/SelfMutation","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.223.0","metadata":[{},{},{}]},"children":{"Role":{"id":"Role","path":"BlogPost-PipelineStack/DeliveryPipeline/UpdatePipeline/SelfMutation/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"BlogPost-PipelineStack/DeliveryPipeline/UpdatePipeline/SelfMutation/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/UpdatePipeline/SelfMutation/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BlogPost-PipelineStack/DeliveryPipeline/UpdatePipeline/SelfMutation/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/UpdatePipeline/SelfMutation/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:logs:us-east-2:183533638597:log-group:/aws/codebuild/",{"Ref":"DeliveryPipelineUpdatePipelineSelfMutationD9095118"},":*"]]},{"Fn::Join":["",["arn:aws:logs:us-east-2:183533638597:log-group:/aws/codebuild/",{"Ref":"DeliveryPipelineUpdatePipelineSelfMutationD9095118"}]]}]},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:codebuild:us-east-2:183533638597:report-group/",{"Ref":"DeliveryPipelineUpdatePipelineSelfMutationD9095118"},"-*"]]}},{"Action":"sts:AssumeRole","Condition":{"ForAnyValue:StringEquals":{"iam:ResourceTag/aws-cdk:bootstrap-role":["image-publishing","file-publishing","deploy"]}},"Effect":"Allow","Resource":"arn:*:iam::183533638597:role/*"},{"Action":["cloudformation:DescribeStacks","s3:ListBucket"],"Effect":"Allow","Resource":"*"},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}}],"Version":"2012-10-17"},"policyName":"DeliveryPipelineUpdatePipelineSelfMutationRoleDefaultPolicy168F21B9","roles":[{"Ref":"DeliveryPipelineUpdatePipelineSelfMutationRole778DA652"}]}}}}}}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/UpdatePipeline/SelfMutation/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step BlogPost-PipelineStack/Pipeline/UpdatePipeline/SelfMutate","encryptionKey":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]},"environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["DeliveryPipelineUpdatePipelineSelfMutationRole778DA652","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"install\": {\n      \"commands\": [\n        \"npm install -g aws-cdk@2\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"cdk -a . deploy BlogPost-PipelineStack --require-approval=never --verbose\"\n      ]\n    }\n  }\n}"}}}}}}}},"Assets":{"id":"Assets","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"DockerRole":{"id":"DockerRole","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/DockerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportDockerRole":{"id":"ImportDockerRole","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/DockerRole/ImportDockerRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/DockerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/DockerRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/DockerRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":"arn:aws:logs:us-east-2:183533638597:log-group:/aws/codebuild/*"},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":"arn:aws:codebuild:us-east-2:183533638597:report-group/*"},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":"*"},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":[{"Fn::Sub":"arn:${AWS::Partition}:iam::202865745565:role/cdk-hnb659fds-image-publishing-role-202865745565-us-east-2"},{"Fn::Sub":"arn:${AWS::Partition}:iam::616138583583:role/cdk-hnb659fds-image-publishing-role-616138583583-us-east-2"}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}}],"Version":"2012-10-17"},"policyName":"DeliveryPipelineAssetsDockerRoleDefaultPolicy4A830520","roles":[{"Ref":"DeliveryPipelineAssetsDockerRoleD45AC7F7"}]}}}}}}},"DockerAsset1":{"id":"DockerAsset1","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/DockerAsset1","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.223.0","metadata":[{},{},{}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/DockerAsset1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step BlogPost-PipelineStack/Pipeline/Assets/GetPost_GetPost_TaskDef_getPost_AssetImage","encryptionKey":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]},"environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":true,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["DeliveryPipelineAssetsDockerRoleD45AC7F7","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"install\": {\n      \"commands\": [\n        \"npm install -g cdk-assets@latest\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"cdk-assets --path \\\"assembly-PreProdStage/PreProdStageAppStackE27EBDE4.assets.json\\\" --verbose publish \\\"be81be754e1d0de5677163c355e558fbb9398bf0caadea46d533ec2487b7aca1:616138583583-us-east-2-9012ea61\\\"\",\n        \"cdk-assets --path \\\"assembly-ProdStage/ProdStageAppStack5A0FCE90.assets.json\\\" --verbose publish \\\"be81be754e1d0de5677163c355e558fbb9398bf0caadea46d533ec2487b7aca1:202865745565-us-east-2-3866eee3\\\"\"\n      ]\n    }\n  }\n}"}}}}}},"FileRole":{"id":"FileRole","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{},{},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportFileRole":{"id":"ImportFileRole","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileRole/ImportFileRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":"arn:aws:logs:us-east-2:183533638597:log-group:/aws/codebuild/*"},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":"arn:aws:codebuild:us-east-2:183533638597:report-group/*"},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":"*"},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":[{"Fn::Sub":"arn:${AWS::Partition}:iam::202865745565:role/cdk-hnb659fds-file-publishing-role-202865745565-us-east-2"},{"Fn::Sub":"arn:${AWS::Partition}:iam::616138583583:role/cdk-hnb659fds-file-publishing-role-616138583583-us-east-2"}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DeliveryPipelineArtifactsBucket50D7B562","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]}}],"Version":"2012-10-17"},"policyName":"DeliveryPipelineAssetsFileRoleDefaultPolicy9538FD9C","roles":[{"Ref":"DeliveryPipelineAssetsFileRole2D0D1DBD"}]}}}}}}},"FileAsset1":{"id":"FileAsset1","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileAsset1","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.223.0","metadata":[{},{},{}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileAsset1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step BlogPost-PipelineStack/Pipeline/Assets/PreProdStage_AppStack_Custom_VpcRestrictDefaultSGCustomResourceProvider_Code","encryptionKey":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]},"environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["DeliveryPipelineAssetsFileRole2D0D1DBD","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"install\": {\n      \"commands\": [\n        \"npm install -g cdk-assets@latest\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"cdk-assets --path \\\"assembly-PreProdStage/PreProdStageAppStackE27EBDE4.assets.json\\\" --verbose publish \\\"7fa1e366ee8a9ded01fc355f704cff92bfd179574e6f9cfee800a3541df1b200:616138583583-us-east-2-5ae885e3\\\"\",\n        \"cdk-assets --path \\\"assembly-ProdStage/ProdStageAppStack5A0FCE90.assets.json\\\" --verbose publish \\\"7fa1e366ee8a9ded01fc355f704cff92bfd179574e6f9cfee800a3541df1b200:202865745565-us-east-2-7fd4294d\\\"\"\n      ]\n    }\n  }\n}"}}}}}},"FileAsset2":{"id":"FileAsset2","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileAsset2","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.223.0","metadata":[{},{},{}]},"children":{"Resource":{"id":"Resource","path":"BlogPost-PipelineStack/DeliveryPipeline/Assets/FileAsset2/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step BlogPost-PipelineStack/Pipeline/Assets/CreatePost_CreatePost_Code","encryptionKey":{"Fn::GetAtt":["DeliveryPipelineArtifactsBucketEncryptionKey427E9FCE","Arn"]},"environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["DeliveryPipelineAssetsFileRole2D0D1DBD","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"install\": {\n      \"commands\": [\n        \"npm install -g cdk-assets@latest\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"cdk-assets --path \\\"assembly-PreProdStage/PreProdStageAppStackE27EBDE4.assets.json\\\" --verbose publish \\\"a719789b9a9d29df4465106a3d79f53742df35de33fce3c8d5ebfba8cb5b63b2:616138583583-us-east-2-25842df3\\\"\",\n        \"cdk-assets --path \\\"assembly-ProdStage/ProdStageAppStack5A0FCE90.assets.json\\\" --verbose publish \\\"a719789b9a9d29df4465106a3d79f53742df35de33fce3c8d5ebfba8cb5b63b2:202865745565-us-east-2-24605739\\\"\"\n      ]\n    }\n  }\n}"}}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"BlogPost-PipelineStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"BlogPost-PipelineStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"BlogPost-PipelineStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"BlogPost-PipelineStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"PreProdStage":{"id":"PreProdStage","path":"PreProdStage","constructInfo":{"fqn":"aws-cdk-lib.Stage","version":"2.223.0"},"children":{"MonitoringStack":{"id":"MonitoringStack","path":"PreProdStage/MonitoringStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"Monitoring":{"id":"Monitoring","path":"PreProdStage/MonitoringStack/Monitoring","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"DynamicDashboards":{"id":"DynamicDashboards","path":"PreProdStage/MonitoringStack/Monitoring/DynamicDashboards","constructInfo":{"fqn":"cdk-monitoring-constructs.DynamicDashboardFactory","version":"8.1.0"},"children":{"Infrastructure":{"id":"Infrastructure","path":"PreProdStage/MonitoringStack/Monitoring/DynamicDashboards/Infrastructure","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*","start":"*","periodOverride":"inherit"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*","*","*","*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*"]},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/DynamicDashboards/Infrastructure/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"start\":\"-PT8H\",\"periodOverride\":\"inherit\",\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item error\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item error\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"User Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"UserErrors\",{\"label\":\"user errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Condition Checks Failed\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConditionalCheckFailedRequests\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"condition checks failed\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Successful Request Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item throttled\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Write Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedWriteCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"write capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Read Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedReadCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"read capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":13,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item throttled\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":19,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Client Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"4xx\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"client error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Latency\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Requests\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Count\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"total requests\",\"stat\":\"SampleCount\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":26,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Server Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"5xx\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"server error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":32,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":33,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Cpu Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"cpu\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":33,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Memory Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"memory\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":39,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-Infrastructure"}}}}}}},"Facade":{"id":"Facade","path":"PreProdStage/MonitoringStack/Monitoring/Facade","constructInfo":{"fqn":"cdk-monitoring-constructs.MonitoringFacade","version":"8.1.0"},"children":{"Facade--SuccessLatency-Anomaly-Critical":{"id":"Facade--SuccessLatency-Anomaly-Critical","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--SuccessLatency-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--SuccessLatency-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--SuccessLatency-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(successLatency,3)","id":"expr_1","label":"successLatency","returnData":true},{"metricStat":{"metric":{"metricName":"SuccessfulRequestLatency","namespace":"AWS/DynamoDB","dimensions":[{"name":"Operation","value":"GetItem"},{"name":"TableName","value":{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}}]},"period":300,"stat":"Average"},"id":"successLatency","label":"successful request latency","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"PostsTableDashboard":{"id":"PostsTableDashboard","path":"PreProdStage/MonitoringStack/Monitoring/Facade/PostsTableDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/PostsTableDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### IntegrationLatencyAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}," Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"successLatency\",\"expression\":\"ANOMALY_DETECTION_BAND(successLatency,3)\"}],[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\",\"id\":\"successLatency\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-PostsTable-Alarms"}}}}},"PostsTableDashboardDetail":{"id":"PostsTableDashboardDetail","path":"PreProdStage/MonitoringStack/Monitoring/Facade/PostsTableDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*","*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/PostsTableDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item error\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item error\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"User Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"UserErrors\",{\"label\":\"user errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Condition Checks Failed\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConditionalCheckFailedRequests\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"condition checks failed\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Successful Request Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item throttled\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Write Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedWriteCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"write capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Read Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedReadCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"read capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":12,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item throttled\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-PostsTable-Detail"}}}}},"Facade--IntegrationLatency-Anomaly-Critical":{"id":"Facade--IntegrationLatency-Anomaly-Critical","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--IntegrationLatency-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--IntegrationLatency-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--IntegrationLatency-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(integrationLatency,3)","id":"expr_1","label":"integrationLatency","returnData":true},{"metricStat":{"metric":{"metricName":"IntegrationLatency","namespace":"AWS/ApiGateway","dimensions":[{"name":"ApiId","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"}}]},"period":300,"stat":"Average"},"id":"integrationLatency","label":"integration latency","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"ApiMonitorDashboard":{"id":"ApiMonitorDashboard","path":"PreProdStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### IntegrationLatencyAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"}," Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"integrationLatency\",\"expression\":\"ANOMALY_DETECTION_BAND(integrationLatency,3)\"}],[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\",\"id\":\"integrationLatency\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-ApiMonitor-Alarms"}}}}},"ApiMonitorDashboardDetail":{"id":"ApiMonitorDashboardDetail","path":"PreProdStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Client Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"4xx\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"client error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Latency\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Requests\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Count\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"total requests\",\"stat\":\"SampleCount\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Server Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"5xx\",\"ApiId\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"server error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-ApiMonitor-Detail"}}}}},"Facade-AppService-CPU-Usage-Cpu":{"id":"Facade-AppService-CPU-Usage-Cpu","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade-AppService-CPU-Usage-Cpu","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade-AppService-CPU-Usage-Cpu/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"The CPU usage is too high.","alarmName":"Facade-AppService-CPU-Usage-Cpu","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"CPUUtilization","namespace":"AWS/ECS","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"m1","label":"Cluster CPU Utilization","returnData":true}],"threshold":70,"treatMissingData":"missing"}}}}},"Facade-AppService-Memory-Usage-Memory":{"id":"Facade-AppService-Memory-Usage-Memory","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade-AppService-Memory-Usage-Memory","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade-AppService-Memory-Usage-Memory/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"The memory usage is too high.","alarmName":"Facade-AppService-Memory-Usage-Memory","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"MemoryUtilization","namespace":"AWS/ECS","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"m1","label":"Cluster Memory Utilization","returnData":true}],"threshold":70,"treatMissingData":"missing"}}}}},"Facade--RunningTasks-Anomaly-Critical":{"id":"Facade--RunningTasks-Anomaly-Critical","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--RunningTasks-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--RunningTasks-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--RunningTasks-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(runningTasks,3)","id":"expr_1","label":"runningTasks","returnData":true},{"metricStat":{"metric":{"metricName":"RunningTaskCount","namespace":"ECS/ContainerInsights","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"runningTasks","label":"Running Tasks","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"GetPostDashboard":{"id":"GetPostDashboard","path":"PreProdStage/MonitoringStack/Monitoring/Facade/GetPostDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/GetPostDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### RunningTasksAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}," Running Tasks\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"runningTasks\",\"expression\":\"ANOMALY_DETECTION_BAND(runningTasks,3)\"}],[\"ECS/ContainerInsights\",\"RunningTaskCount\",\"ClusterName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"Running Tasks\",\"id\":\"runningTasks\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-GetPost-Alarms"}}}}},"GetPostDashboardDetail":{"id":"GetPostDashboardDetail","path":"PreProdStage/MonitoringStack/Monitoring/Facade/GetPostDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/GetPostDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"getItemSuccess\",\"service\",\"GetPost\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"getItemFailure\",\"service\",\"GetItem\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Cpu Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"cpu\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Memory Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"memory\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-GetPost-Detail"}}}}},"Facade--Invocations-Anomaly-Critical":{"id":"Facade--Invocations-Anomaly-Critical","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--Invocations-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--Invocations-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--Invocations-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(invocations,3)","id":"expr_1","label":"invocations","returnData":true},{"metricStat":{"metric":{"metricName":"Invocations","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Sum"},"id":"invocations","label":"invocations","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"Facade--Duration-Anomaly-Critical":{"id":"Facade--Duration-Anomaly-Critical","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--Duration-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade--Duration-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--Duration-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(duration,3)","id":"expr_1","label":"duration","returnData":true},{"metricStat":{"metric":{"metricName":"Duration","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Average"},"id":"duration","label":"duration","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"CreateFunctionDashboard":{"id":"CreateFunctionDashboard","path":"PreProdStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]},{"addWidgets":[{},"*"]},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### DurationAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"duration\",\"expression\":\"ANOMALY_DETECTION_BAND(duration,3)\"}],[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\",\"id\":\"duration\",\"visible\":false}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":6,\"properties\":{\"markdown\":\"### ErrorsAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"annotations\":{\"horizontal\":[{\"label\":\"errors >= 3 for 3 datapoints within 15 minutes\",\"value\":3,\"yAxis\":\"left\"}]},\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":12,\"properties\":{\"markdown\":\"### InvocationsAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":13,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"invocations\",\"expression\":\"ANOMALY_DETECTION_BAND(invocations,3)\"}],[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"id\":\"invocations\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-CreateFunction-Alarms"}}}}},"CreateFunctionDashboardDetail":{"id":"CreateFunctionDashboardDetail","path":"PreProdStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"ColdStart\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"createPostFailure\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"createPostSuccess\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-CreateFunction-Detail"}}}}},"Facade-ErrorsAlarm-errors-Critical":{"id":"Facade-ErrorsAlarm-errors-Critical","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade-ErrorsAlarm-errors-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/MonitoringStack/Monitoring/Facade/Facade-ErrorsAlarm-errors-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Threshold of 3 has been breached.","alarmName":"Facade-ErrorsAlarm-errors-Critical","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"Errors","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"PreProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Sum"},"id":"m1","label":"errors","returnData":true}],"threshold":3,"treatMissingData":"missing"}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"PreProdStage/MonitoringStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"PreProdStage/MonitoringStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PreProdStage/MonitoringStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PreProdStage/MonitoringStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"DataStack":{"id":"DataStack","path":"PreProdStage/DataStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"PostsTable":{"id":"PostsTable","path":"PreProdStage/DataStack/PostsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST"}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/DataStack/PostsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"pk","keyType":"HASH"}]}}},"ScalingRole":{"id":"ScalingRole","path":"PreProdStage/DataStack/PostsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}}}},"CDKMetadata":{"id":"CDKMetadata","path":"PreProdStage/DataStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"PreProdStage/DataStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"PreProdStage/DataStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Output{\"Ref\":\"PostsTableC82B36F0\"}":{"id":"Output{\"Ref\":\"PostsTableC82B36F0\"}","path":"PreProdStage/DataStack/Exports/Output{\"Ref\":\"PostsTableC82B36F0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}","path":"PreProdStage/DataStack/Exports/Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PreProdStage/DataStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PreProdStage/DataStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"AppStack":{"id":"AppStack","path":"PreProdStage/AppStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"Network":{"id":"Network","path":"PreProdStage/AppStack/Network","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Vpc":{"id":"Vpc","path":"PreProdStage/AppStack/Network/Vpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.223.0","metadata":[{"maxAzs":"*"}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Network/Vpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2a","cidrBlock":"10.0.0.0/19","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPublicSubnet1RouteTable30235CE2"},"subnetId":{"Ref":"NetworkVpcPublicSubnet1Subnet36933139"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"routeTableId":{"Ref":"NetworkVpcPublicSubnet1RouteTable30235CE2"}}}},"EIP":{"id":"EIP","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NetworkVpcPublicSubnet1EIPE0D52090","AllocationId"]},"subnetId":{"Ref":"NetworkVpcPublicSubnet1Subnet36933139"},"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2b","cidrBlock":"10.0.32.0/19","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPublicSubnet2RouteTable0FACEBB2"},"subnetId":{"Ref":"NetworkVpcPublicSubnet2SubnetC427CCE0"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"routeTableId":{"Ref":"NetworkVpcPublicSubnet2RouteTable0FACEBB2"}}}},"EIP":{"id":"EIP","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2"}]}}},"NATGateway":{"id":"NATGateway","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NetworkVpcPublicSubnet2EIP24F41572","AllocationId"]},"subnetId":{"Ref":"NetworkVpcPublicSubnet2SubnetC427CCE0"},"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet2"}]}}}}},"PublicSubnet3":{"id":"PublicSubnet3","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2c","cidrBlock":"10.0.64.0/19","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPublicSubnet3RouteTable4F517CA2"},"subnetId":{"Ref":"NetworkVpcPublicSubnet3Subnet4BBF7F47"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"routeTableId":{"Ref":"NetworkVpcPublicSubnet3RouteTable4F517CA2"}}}},"EIP":{"id":"EIP","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3"}]}}},"NATGateway":{"id":"NATGateway","path":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NetworkVpcPublicSubnet3EIP22F0C93C","AllocationId"]},"subnetId":{"Ref":"NetworkVpcPublicSubnet3Subnet4BBF7F47"},"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PublicSubnet3"}]}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2a","cidrBlock":"10.0.96.0/19","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPrivateSubnet1RouteTable7D7AA3CD"},"subnetId":{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NetworkVpcPublicSubnet1NATGateway64781A21"},"routeTableId":{"Ref":"NetworkVpcPrivateSubnet1RouteTable7D7AA3CD"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2b","cidrBlock":"10.0.128.0/19","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPrivateSubnet2RouteTableC48862D1"},"subnetId":{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NetworkVpcPublicSubnet2NATGateway42CB86F5"},"routeTableId":{"Ref":"NetworkVpcPrivateSubnet2RouteTableC48862D1"}}}}}},"PrivateSubnet3":{"id":"PrivateSubnet3","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2c","cidrBlock":"10.0.160.0/19","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet3"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet3"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPrivateSubnet3RouteTable7FC52A8D"},"subnetId":{"Ref":"NetworkVpcPrivateSubnet3Subnet8ABFAF5C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PreProdStage/AppStack/Network/Vpc/PrivateSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NetworkVpcPublicSubnet3NATGateway5DD3AF93"},"routeTableId":{"Ref":"NetworkVpcPrivateSubnet3RouteTable7FC52A8D"}}}}}},"IGW":{"id":"IGW","path":"PreProdStage/AppStack/Network/Vpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"PreProdStage/AppStack/Network/Vpc"}]}}},"VPCGW":{"id":"VPCGW","path":"PreProdStage/AppStack/Network/Vpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"PreProdStage/AppStack/Network/Vpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.223.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"PreProdStage/AppStack/Network/Vpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}}}},"Cluster":{"id":"Cluster","path":"PreProdStage/AppStack/Network/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.223.0","metadata":[{"enableFargateCapacityProviders":true,"containerInsights":true,"defaultCloudMapNamespace":{"name":"*"},"vpc":"*"},{"enableFargateCapacityProviders":[]},{"addDefaultCloudMapNamespace":[{"name":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Network/Cluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterSettings":[{"name":"containerInsights","value":"enabled"}]}}},"DefaultServiceDiscoveryNamespace":{"id":"DefaultServiceDiscoveryNamespace","path":"PreProdStage/AppStack/Network/Cluster/DefaultServiceDiscoveryNamespace","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.PrivateDnsNamespace","version":"2.223.0","metadata":[{"name":"*","vpc":"*"}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Network/Cluster/DefaultServiceDiscoveryNamespace/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnPrivateDnsNamespace","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::PrivateDnsNamespace","aws:cdk:cloudformation:props":{"name":"blog-dev.com","vpc":{"Ref":"NetworkVpc7FB7348F"}}}}}},"Cluster":{"id":"Cluster","path":"PreProdStage/AppStack/Network/Cluster/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnClusterCapacityProviderAssociations","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::ClusterCapacityProviderAssociations","aws:cdk:cloudformation:props":{"capacityProviders":["FARGATE","FARGATE_SPOT"],"cluster":{"Ref":"NetworkCluster17B54D11"},"defaultCapacityProviderStrategy":[]}}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"PreProdStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.223.0"},"children":{"Staging":{"id":"Staging","path":"PreProdStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"Role":{"id":"Role","path":"PreProdStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}},"Handler":{"id":"Handler","path":"PreProdStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Api":{"id":"Api","path":"PreProdStage/AppStack/Api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpApi","version":"2.223.0","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"name":"Api","protocolType":"HTTP"}}},"DefaultStage":{"id":"DefaultStage","path":"PreProdStage/AppStack/Api/DefaultStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpStage","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Api/DefaultStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"autoDeploy":true,"stageName":"$default"}}}}},"VpcLinkSg":{"id":"VpcLinkSg","path":"PreProdStage/AppStack/Api/VpcLinkSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.223.0","metadata":[{"vpc":"*","allowAllIpv6Outbound":true,"allowAllOutbound":true,"description":"*"},{"addEgressRule":["*",{},"*",true]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Api/VpcLinkSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security Group for API Gateway Vpc Link","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"},{"ipProtocol":"-1","cidrIpv6":"::/0","description":"Allow all outbound ipv6 traffic by default"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}}}},"VpcLink":{"id":"VpcLink","path":"PreProdStage/AppStack/Api/VpcLink","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.VpcLink","version":"2.223.0","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Api/VpcLink/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnVpcLink","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::VpcLink","aws:cdk:cloudformation:props":{"name":"PreProdStageAppStackApiVpcLink043A91F1","securityGroupIds":[{"Fn::GetAtt":["ApiVpcLinkSg585A62E1","GroupId"]}],"subnetIds":[{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"},{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"},{"Ref":"NetworkVpcPrivateSubnet3Subnet8ABFAF5C"}]}}}}},"GET--posts--{id}":{"id":"GET--posts--{id}","path":"PreProdStage/AppStack/Api/GET--posts--{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.223.0","metadata":["*"]},"children":{"getPost":{"id":"getPost","path":"PreProdStage/AppStack/Api/GET--posts--{id}/getPost","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Api/GET--posts--{id}/getPost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"connectionId":{"Ref":"ApiVpcLink4F321C68"},"connectionType":"VPC_LINK","integrationMethod":"ANY","integrationType":"HTTP_PROXY","integrationUri":{"Fn::GetAtt":["GetPostAppServiceCloudmapService52F860BF","Arn"]},"payloadFormatVersion":"1.0"}}}}},"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Api/GET--posts--{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"authorizationType":"NONE","routeKey":"GET /posts/{id}","target":{"Fn::Join":["",["integrations/",{"Ref":"ApiGETpostsidgetPostB2674F9F"}]]}}}}}},"POST--posts":{"id":"POST--posts","path":"PreProdStage/AppStack/Api/POST--posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.223.0","metadata":["*"]},"children":{"createPost":{"id":"createPost","path":"PreProdStage/AppStack/Api/POST--posts/createPost","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Api/POST--posts/createPost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["CreatePostD3E67D61","Arn"]},"payloadFormatVersion":"2.0"}}}}},"createPost-Permission":{"id":"createPost-Permission","path":"PreProdStage/AppStack/Api/POST--posts/createPost-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreatePostD3E67D61","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:616138583583:",{"Ref":"ApiF70053CD"},"/*/*/posts"]]}}}},"Resource":{"id":"Resource","path":"PreProdStage/AppStack/Api/POST--posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"authorizationType":"NONE","routeKey":"POST /posts","target":{"Fn::Join":["",["integrations/",{"Ref":"ApiPOSTpostscreatePostF4B703B7"}]]}}}}}}}},"GetPost":{"id":"GetPost","path":"PreProdStage/AppStack/GetPost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"GetPost":{"id":"GetPost","path":"PreProdStage/AppStack/GetPost/GetPost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"LogGroup":{"id":"LogGroup","path":"PreProdStage/AppStack/GetPost/GetPost/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.223.0","metadata":[{"retention":30}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30}}}}},"TaskDef":{"id":"TaskDef","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.223.0","metadata":["*","*","*","*","*","*","*","*","*","*","*","*","*"]},"children":{"TaskRole":{"id":"TaskRole","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AWSXRayDaemonWriteAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cloudwatch:PutMetricData","Effect":"Allow","Resource":"*"},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputFnGetAttPostsTableC82B36F0Arn40084DA1"},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"GetPostTaskDefTaskRoleDefaultPolicy48191C35","roles":[{"Ref":"GetPostTaskDefTaskRoleB6AF59D2"}]}}}}}}},"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"616138583583.dkr.ecr.us-east-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-616138583583-us-east-2:be81be754e1d0de5677163c355e558fbb9398bf0caadea46d533ec2487b7aca1"},"name":"getPost","portMappings":[{"containerPort":8080,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"getPost","awslogs-region":"us-east-2"}},"environment":[{"name":"TABLE_NAME","value":{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}},{"name":"AWS_EMF_AGENT_ENDPOINT","value":"tcp://127.0.0.1:25888"},{"name":"LOG_LEVEL","value":"DEBUG"},{"name":"POWERTOOLS_SERVICE_NAME","value":"GetPostService"},{"name":"POWERTOOLS_METRICS_NAMESPACE","value":"blogApp"},{"name":"ENV","value":"dev"}],"healthCheck":{"command":["CMD-SHELL","curl -s http://127.0.0.1:8080/health"],"interval":5,"retries":1,"startPeriod":10,"timeout":2}},{"essential":true,"image":"amazon/aws-xray-daemon:latest","memoryReservation":256,"name":"xray","portMappings":[{"containerPort":2000,"protocol":"udp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"xray","awslogs-region":"us-east-2"}},"environment":[{"name":"AWS_REGION","value":"us-east-2"}],"healthCheck":{"command":["CMD-SHELL","curl -s http://localhost:2000"],"interval":5,"retries":3,"startPeriod":10,"timeout":2}},{"essential":true,"image":"public.ecr.aws/cloudwatch-agent/cloudwatch-agent:latest","memoryReservation":50,"name":"cloudwatch-agent","portMappings":[{"containerPort":25888,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"cloudwatch-agent","awslogs-region":"us-east-2"}},"environment":[{"name":"CW_CONFIG_CONTENT","value":"{\"logs\":{\"metrics_collected\":{\"emf\":{}}},\"metrics\":{\"metrics_collected\":{\"statsd\":{}}}}"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["GetPostTaskDefExecutionRoleAAEEA792","Arn"]},"family":"PreProdStageAppStackGetPostTaskDef4893883B","memory":"1024","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["GetPostTaskDefTaskRoleB6AF59D2","Arn"]}}}},"getPost":{"id":"getPost","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/getPost","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"},"children":{"AssetImage":{"id":"AssetImage","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.223.0"},"children":{"Staging":{"id":"Staging","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"Repository":{"id":"Repository","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.223.0","metadata":[]}}}}}},"ExecutionRole":{"id":"ExecutionRole","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*"},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-east-2:616138583583:repository/cdk-hnb659fds-container-assets-616138583583-us-east-2"},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["GetPostLogGroup615A249A","Arn"]}}],"Version":"2012-10-17"},"policyName":"GetPostTaskDefExecutionRoleDefaultPolicy7D07E747","roles":[{"Ref":"GetPostTaskDefExecutionRoleAAEEA792"}]}}}}}}},"xray":{"id":"xray","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/xray","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"}},"cloudwatch-agent":{"id":"cloudwatch-agent","path":"PreProdStage/AppStack/GetPost/GetPost/TaskDef/cloudwatch-agent","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"}}}},"AppService":{"id":"AppService","path":"PreProdStage/AppStack/GetPost/GetPost/AppService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.223.0","metadata":["*"]},"children":{"Service":{"id":"Service","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"NetworkCluster17B54D11"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"deploymentCircuitBreaker":{"enable":true,"rollback":true}},"deploymentController":{"type":"ECS"},"enableEcsManagedTags":true,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"},{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"},{"Ref":"NetworkVpcPrivateSubnet3Subnet8ABFAF5C"}],"securityGroups":[{"Fn::GetAtt":["GetPostAppServiceSecurityGroup04A7E398","GroupId"]}]}},"serviceRegistries":[{"registryArn":{"Fn::GetAtt":["GetPostAppServiceCloudmapService52F860BF","Arn"]},"containerName":"getPost","containerPort":8080}],"taskDefinition":{"Ref":"GetPostTaskDef74D442CE"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.223.0","metadata":[{"vpc":"*"},{"addIngressRule":["*",{},"*",false]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"PreProdStage/AppStack/GetPost/GetPost/AppService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"from PreProdStageAppStackApiVpcLinkSg37FEBE42:8080":{"id":"from PreProdStageAppStackApiVpcLinkSg37FEBE42:8080","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/SecurityGroup/from PreProdStageAppStackApiVpcLinkSg37FEBE42:8080","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from PreProdStageAppStackApiVpcLinkSg37FEBE42:8080","fromPort":8080,"groupId":{"Fn::GetAtt":["GetPostAppServiceSecurityGroup04A7E398","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ApiVpcLinkSg585A62E1","GroupId"]},"toPort":8080}}}}},"CloudmapService":{"id":"CloudmapService","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/CloudmapService","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.Service","version":"2.223.0","metadata":[{"namespace":"*","name":"*","dnsRecordType":"SRV","customHealthCheck":{"failureThreshold":"*"},"dnsTtl":"*"}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/CloudmapService/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnService","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::Service","aws:cdk:cloudformation:props":{"dnsConfig":{"dnsRecords":[{"type":"SRV","ttl":60}],"namespaceId":{"Fn::GetAtt":["NetworkClusterDefaultServiceDiscoveryNamespaceD090BA35","Id"]},"routingPolicy":"MULTIVALUE"},"healthCheckCustomConfig":{"failureThreshold":1},"namespaceId":{"Fn::GetAtt":["NetworkClusterDefaultServiceDiscoveryNamespaceD090BA35","Id"]}}}}}},"ScalingRole":{"id":"ScalingRole","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"TaskCount":{"id":"TaskCount","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/TaskCount","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ScalableTaskCount","version":"2.223.0"},"children":{"Target":{"id":"Target","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.ScalableTarget","version":"2.223.0","metadata":[{"serviceNamespace":"ecs","scalableDimension":"*","resourceId":"*","role":"*","minCapacity":"*","maxCapacity":"*"},{"scaleToTrackMetric":["*",{"predefinedMetric":"*","targetValue":"*","policyName":"*","disableScaleIn":"*","scaleInCooldown":"*"}]},{"scaleToTrackMetric":["*",{"predefinedMetric":"*","policyName":"*","disableScaleIn":"*","targetValue":"*","scaleInCooldown":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalableTarget","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalableTarget","aws:cdk:cloudformation:props":{"maxCapacity":10,"minCapacity":1,"resourceId":{"Fn::Join":["",["service/",{"Ref":"NetworkCluster17B54D11"},"/",{"Fn::GetAtt":["GetPostAppServiceA50C5323","Name"]}]]},"roleArn":"arn:aws:iam::616138583583:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService","scalableDimension":"ecs:service:DesiredCount","serviceNamespace":"ecs"}}},"MemoryScaling":{"id":"MemoryScaling","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/MemoryScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/MemoryScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"PreProdStageAppStackGetPostAppServiceTaskCountTargetMemoryScaling31E7B885","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"GetPostAppServiceTaskCountTarget29996380"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageMemoryUtilization"},"targetValue":60}}}}}},"CpuScaling":{"id":"CpuScaling","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/CpuScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/CpuScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"PreProdStageAppStackGetPostAppServiceTaskCountTargetCpuScaling4981A93C","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"GetPostAppServiceTaskCountTarget29996380"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageCPUUtilization"},"targetValue":60}}}}}}}}}}}},"Rule":{"id":"Rule","path":"PreProdStage/AppStack/GetPost/GetPost/Rule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.223.0","metadata":[{"eventPattern":{"detailType":"*","source":"*","detail":"*"}},{"addEventPattern":[{"detailType":"*","source":"*","detail":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/Rule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"detail-type":["ECS Task State Change"],"source":["aws.ecs"],"detail":{"clusterArn":[{"Fn::GetAtt":["NetworkCluster17B54D11","Arn"]}],"desiredStatus":["STOPPED"],"stopCode":["ServiceSchedulerInitiated"],"stoppedReason":["Task failed container health checks"],"containers":{"name":["getPost"]}}},"state":"ENABLED"}}}}},"DeploymentFailing":{"id":"DeploymentFailing","path":"PreProdStage/AppStack/GetPost/GetPost/DeploymentFailing","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"threshold":"*","evaluationPeriods":"*","treatMissingData":"notBreaching"}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/GetPost/GetPost/DeploymentFailing/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"RuleName","value":{"Ref":"GetPostRule216A33F2"}}],"evaluationPeriods":1,"metricName":"TriggeredRules","namespace":"AWS/Events","period":10,"statistic":"Average","threshold":1,"treatMissingData":"notBreaching","unit":"Count"}}}}}}}}},"CreatePost":{"id":"CreatePost","path":"PreProdStage/AppStack/CreatePost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"PowertoolsLayer":{"id":"PowertoolsLayer","path":"PreProdStage/AppStack/CreatePost/PowertoolsLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"CreatePost":{"id":"CreatePost","path":"PreProdStage/AppStack/CreatePost/CreatePost","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[{"description":"*","environment":"*","layers":["*"],"memorySize":"*","tracing":"Active","architecture":"*","runtime":"*","handler":"*","code":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":["*"]},{"addEnvironment":["*","*",{"removeInEdge":true}]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PreProdStage/AppStack/CreatePost/CreatePost/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PreProdStage/AppStack/CreatePost/CreatePost/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PreProdStage/AppStack/CreatePost/CreatePost/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PreProdStage/AppStack/CreatePost/CreatePost/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/CreatePost/CreatePost/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputFnGetAttPostsTableC82B36F0Arn40084DA1"},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"CreatePostServiceRoleDefaultPolicy45EA3357","roles":[{"Ref":"CreatePostServiceRole3F6FFE7F"}]}}}}}}},"Code":{"id":"Code","path":"PreProdStage/AppStack/CreatePost/CreatePost/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"PreProdStage/AppStack/CreatePost/CreatePost/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"PreProdStage/AppStack/CreatePost/CreatePost/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PreProdStage/AppStack/CreatePost/CreatePost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-616138583583-us-east-2","s3Key":"a719789b9a9d29df4465106a3d79f53742df35de33fce3c8d5ebfba8cb5b63b2.zip"},"description":"src/posts/create.lambda.ts","environment":{"variables":{"LOG_LEVEL":"DEBUG","POWERTOOLS_LOGGER_LOG_EVENT":"true","POWERTOOLS_SERVICE_NAME":"CreateFunction","POWERTOOLS_METRICS_NAMESPACE":"blogApp","ENV":"dev","TABLE_NAME":{"Fn::ImportValue":"PreProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","layers":["arn:aws:lambda:us-east-2:094274105915:layer:AWSLambdaPowertoolsTypeScript:15"],"memorySize":256,"role":{"Fn::GetAtt":["CreatePostServiceRole3F6FFE7F","Arn"]},"runtime":"nodejs18.x","tracingConfig":{"mode":"Active"}}}},"LogGroup":{"id":"LogGroup","path":"PreProdStage/AppStack/CreatePost/CreatePost/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.223.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PreProdStage/AppStack/CreatePost/CreatePost/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"CreatePostD3E67D61"}]]},"retentionInDays":731}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"PreProdStage/AppStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"PreProdStage/AppStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"PreProdStage/AppStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Output{\"Ref\":\"ApiF70053CD\"}":{"id":"Output{\"Ref\":\"ApiF70053CD\"}","path":"PreProdStage/AppStack/Exports/Output{\"Ref\":\"ApiF70053CD\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}","path":"PreProdStage/AppStack/Exports/Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"NetworkCluster17B54D11\"}":{"id":"Output{\"Ref\":\"NetworkCluster17B54D11\"}","path":"PreProdStage/AppStack/Exports/Output{\"Ref\":\"NetworkCluster17B54D11\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"CreatePostD3E67D61\"}":{"id":"Output{\"Ref\":\"CreatePostD3E67D61\"}","path":"PreProdStage/AppStack/Exports/Output{\"Ref\":\"CreatePostD3E67D61\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PreProdStage/AppStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PreProdStage/AppStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}}}},"ProdStage":{"id":"ProdStage","path":"ProdStage","constructInfo":{"fqn":"aws-cdk-lib.Stage","version":"2.223.0"},"children":{"MonitoringStack":{"id":"MonitoringStack","path":"ProdStage/MonitoringStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"Monitoring":{"id":"Monitoring","path":"ProdStage/MonitoringStack/Monitoring","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"DynamicDashboards":{"id":"DynamicDashboards","path":"ProdStage/MonitoringStack/Monitoring/DynamicDashboards","constructInfo":{"fqn":"cdk-monitoring-constructs.DynamicDashboardFactory","version":"8.1.0"},"children":{"Infrastructure":{"id":"Infrastructure","path":"ProdStage/MonitoringStack/Monitoring/DynamicDashboards/Infrastructure","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*","start":"*","periodOverride":"inherit"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*","*","*","*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*"]},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/DynamicDashboards/Infrastructure/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"start\":\"-PT8H\",\"periodOverride\":\"inherit\",\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item error\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item error\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"User Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"UserErrors\",{\"label\":\"user errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Condition Checks Failed\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConditionalCheckFailedRequests\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"condition checks failed\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Successful Request Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item throttled\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Write Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedWriteCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"write capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Read Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedReadCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"read capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":13,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item throttled\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":19,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Client Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"4xx\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"client error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Latency\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":20,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Requests\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Count\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"total requests\",\"stat\":\"SampleCount\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":26,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Server Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"5xx\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"server error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":32,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":33,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Cpu Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"cpu\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":33,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Memory Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"memory\"}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":39,\"properties\":{\"markdown\":\"# ",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":40,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-Infrastructure"}}}}}}},"Facade":{"id":"Facade","path":"ProdStage/MonitoringStack/Monitoring/Facade","constructInfo":{"fqn":"cdk-monitoring-constructs.MonitoringFacade","version":"8.1.0"},"children":{"Facade--SuccessLatency-Anomaly-Critical":{"id":"Facade--SuccessLatency-Anomaly-Critical","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--SuccessLatency-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--SuccessLatency-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--SuccessLatency-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(successLatency,3)","id":"expr_1","label":"successLatency","returnData":true},{"metricStat":{"metric":{"metricName":"SuccessfulRequestLatency","namespace":"AWS/DynamoDB","dimensions":[{"name":"Operation","value":"GetItem"},{"name":"TableName","value":{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}}]},"period":300,"stat":"Average"},"id":"successLatency","label":"successful request latency","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"PostsTableDashboard":{"id":"PostsTableDashboard","path":"ProdStage/MonitoringStack/Monitoring/Facade/PostsTableDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/PostsTableDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### IntegrationLatencyAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}," Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"successLatency\",\"expression\":\"ANOMALY_DETECTION_BAND(successLatency,3)\"}],[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\",\"id\":\"successLatency\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-PostsTable-Alarms"}}}}},"PostsTableDashboardDetail":{"id":"PostsTableDashboardDetail","path":"ProdStage/MonitoringStack/Monitoring/Facade/PostsTableDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*","*","*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/PostsTableDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item error\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of errors across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"SystemErrors\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item error\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"User Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"UserErrors\",{\"label\":\"user errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Condition Checks Failed\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConditionalCheckFailedRequests\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"condition checks failed\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Successful Request Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"SuccessfulRequestLatency\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"successful request latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Put Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"putitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"PutItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"put item throttled\",\"id\":\"putitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Write Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedWriteCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"write capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Consumed Read Capacity\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/DynamoDB\",\"ConsumedReadCapacityUnits\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"read capacity\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":12,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Get Item Throttled\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"Sum of throttled requests across all operations\",\"expression\":\"getitem\"}],[\"AWS/DynamoDB\",\"ThrottledRequests\",\"Operation\",\"GetItem\",\"TableName\",\"",{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"\",{\"label\":\"get item throttled\",\"id\":\"getitem\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-PostsTable-Detail"}}}}},"Facade--IntegrationLatency-Anomaly-Critical":{"id":"Facade--IntegrationLatency-Anomaly-Critical","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--IntegrationLatency-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--IntegrationLatency-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--IntegrationLatency-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(integrationLatency,3)","id":"expr_1","label":"integrationLatency","returnData":true},{"metricStat":{"metric":{"metricName":"IntegrationLatency","namespace":"AWS/ApiGateway","dimensions":[{"name":"ApiId","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"}}]},"period":300,"stat":"Average"},"id":"integrationLatency","label":"integration latency","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"ApiMonitorDashboard":{"id":"ApiMonitorDashboard","path":"ProdStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### IntegrationLatencyAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"}," Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"integrationLatency\",\"expression\":\"ANOMALY_DETECTION_BAND(integrationLatency,3)\"}],[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\",\"id\":\"integrationLatency\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-ApiMonitor-Alarms"}}}}},"ApiMonitorDashboardDetail":{"id":"ApiMonitorDashboardDetail","path":"ProdStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/ApiMonitorDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Client Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"4xx\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"client error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Integration Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"IntegrationLatency\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"integration latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Latency\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"latency\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":18,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Requests\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"Count\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"total requests\",\"stat\":\"SampleCount\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Server Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApiGateway\",\"5xx\",\"ApiId\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefApiF70053CD5653BA4D"},"\",{\"label\":\"server error\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-ApiMonitor-Detail"}}}}},"Facade-AppService-CPU-Usage-Cpu":{"id":"Facade-AppService-CPU-Usage-Cpu","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade-AppService-CPU-Usage-Cpu","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade-AppService-CPU-Usage-Cpu/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"The CPU usage is too high.","alarmName":"Facade-AppService-CPU-Usage-Cpu","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"CPUUtilization","namespace":"AWS/ECS","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"m1","label":"Cluster CPU Utilization","returnData":true}],"threshold":70,"treatMissingData":"missing"}}}}},"Facade-AppService-Memory-Usage-Memory":{"id":"Facade-AppService-Memory-Usage-Memory","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade-AppService-Memory-Usage-Memory","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade-AppService-Memory-Usage-Memory/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"The memory usage is too high.","alarmName":"Facade-AppService-Memory-Usage-Memory","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"MemoryUtilization","namespace":"AWS/ECS","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"m1","label":"Cluster Memory Utilization","returnData":true}],"threshold":70,"treatMissingData":"missing"}}}}},"Facade--RunningTasks-Anomaly-Critical":{"id":"Facade--RunningTasks-Anomaly-Critical","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--RunningTasks-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--RunningTasks-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--RunningTasks-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(runningTasks,3)","id":"expr_1","label":"runningTasks","returnData":true},{"metricStat":{"metric":{"metricName":"RunningTaskCount","namespace":"ECS/ContainerInsights","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"}},{"name":"ServiceName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}}]},"period":300,"stat":"Average"},"id":"runningTasks","label":"Running Tasks","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"GetPostDashboard":{"id":"GetPostDashboard","path":"ProdStage/MonitoringStack/Monitoring/Facade/GetPostDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/GetPostDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### RunningTasksAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"}," Running Tasks\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"runningTasks\",\"expression\":\"ANOMALY_DETECTION_BAND(runningTasks,3)\"}],[\"ECS/ContainerInsights\",\"RunningTaskCount\",\"ClusterName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"Running Tasks\",\"id\":\"runningTasks\",\"visible\":false}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-GetPost-Alarms"}}}}},"GetPostDashboardDetail":{"id":"GetPostDashboardDetail","path":"ProdStage/MonitoringStack/Monitoring/Facade/GetPostDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/GetPostDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"getItemSuccess\",\"service\",\"GetPost\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"getItemFailure\",\"service\",\"GetItem\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Cpu Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"cpu\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Memory Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefNetworkCluster17B54D113FA77A85"},"\",\"ServiceName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputFnGetAttGetPostAppServiceA50C5323Name6E4CBB98"},"\",{\"label\":\"memory\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-GetPost-Detail"}}}}},"Facade--Invocations-Anomaly-Critical":{"id":"Facade--Invocations-Anomaly-Critical","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--Invocations-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--Invocations-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--Invocations-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(invocations,3)","id":"expr_1","label":"invocations","returnData":true},{"metricStat":{"metric":{"metricName":"Invocations","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Sum"},"id":"invocations","label":"invocations","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"Facade--Duration-Anomaly-Critical":{"id":"Facade--Duration-Anomaly-Critical","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--Duration-Anomaly-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade--Duration-Anomaly-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Anomaly detection: value is outside of the expected band.","alarmName":"Facade--Duration-Anomaly-Critical","comparisonOperator":"LessThanLowerOrGreaterThanUpperThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"expression":"ANOMALY_DETECTION_BAND(duration,3)","id":"expr_1","label":"duration","returnData":true},{"metricStat":{"metric":{"metricName":"Duration","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Average"},"id":"duration","label":"duration","returnData":true}],"thresholdMetricId":"expr_1","treatMissingData":"missing"}}}}},"CreateFunctionDashboard":{"id":"CreateFunctionDashboard","path":"ProdStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{},"*"]},{"addWidgets":[{},"*"]},{"addWidgets":[{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"### DurationAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":1,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"duration\",\"expression\":\"ANOMALY_DETECTION_BAND(duration,3)\"}],[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\",\"id\":\"duration\",\"visible\":false}]],\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":6,\"properties\":{\"markdown\":\"### ErrorsAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":7,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"annotations\":{\"horizontal\":[{\"label\":\"errors >= 3 for 3 datapoints within 15 minutes\",\"value\":3,\"yAxis\":\"left\"}]},\"yAxis\":{}}},{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":12,\"properties\":{\"markdown\":\"### InvocationsAnomalyDetectionAlarm\"}},{\"type\":\"metric\",\"width\":24,\"height\":5,\"x\":0,\"y\":13,\"properties\":{\"view\":\"timeSeries\",\"title\":\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}," Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[{\"label\":\"invocations\",\"expression\":\"ANOMALY_DETECTION_BAND(invocations,3)\"}],[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"id\":\"invocations\",\"visible\":false,\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-CreateFunction-Alarms"}}}}},"CreateFunctionDashboardDetail":{"id":"CreateFunctionDashboardDetail","path":"ProdStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboardDetail","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.223.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]},{"addWidgets":[{"width":"*","height":"*","warnings":"*","warningsV2":"*"},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/CreateFunctionDashboardDetail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"ColdStart\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"createPostFailure\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"blogApp\",\"createPostSuccess\",\"service\",\"CreateFunction\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Invocations\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Invocations\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"invocations\",\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Duration\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Duration\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"duration\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"},"\",{\"label\":\"errors\",\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"BlogAppDashboards-CreateFunction-Detail"}}}}},"Facade-ErrorsAlarm-errors-Critical":{"id":"Facade-ErrorsAlarm-errors-Critical","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade-ErrorsAlarm-errors-Critical","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"missing","actionsEnabled":true},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/MonitoringStack/Monitoring/Facade/Facade-ErrorsAlarm-errors-Critical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"actionsEnabled":true,"alarmDescription":"Threshold of 3 has been breached.","alarmName":"Facade-ErrorsAlarm-errors-Critical","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":3,"evaluationPeriods":3,"metrics":[{"metricStat":{"metric":{"metricName":"Errors","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Fn::ImportValue":"ProdStage-AppStack:ExportsOutputRefCreatePostD3E67D61CCFCD440"}}]},"period":300,"stat":"Sum"},"id":"m1","label":"errors","returnData":true}],"threshold":3,"treatMissingData":"missing"}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"ProdStage/MonitoringStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"ProdStage/MonitoringStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ProdStage/MonitoringStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ProdStage/MonitoringStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"DataStack":{"id":"DataStack","path":"ProdStage/DataStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"PostsTable":{"id":"PostsTable","path":"ProdStage/DataStack/PostsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST"}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/DataStack/PostsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"pk","keyType":"HASH"}]}}},"ScalingRole":{"id":"ScalingRole","path":"ProdStage/DataStack/PostsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}}}},"CDKMetadata":{"id":"CDKMetadata","path":"ProdStage/DataStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"ProdStage/DataStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"ProdStage/DataStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Output{\"Ref\":\"PostsTableC82B36F0\"}":{"id":"Output{\"Ref\":\"PostsTableC82B36F0\"}","path":"ProdStage/DataStack/Exports/Output{\"Ref\":\"PostsTableC82B36F0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}","path":"ProdStage/DataStack/Exports/Output{\"Fn::GetAtt\":[\"PostsTableC82B36F0\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ProdStage/DataStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ProdStage/DataStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"AppStack":{"id":"AppStack","path":"ProdStage/AppStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"Network":{"id":"Network","path":"ProdStage/AppStack/Network","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Vpc":{"id":"Vpc","path":"ProdStage/AppStack/Network/Vpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.223.0","metadata":[{"maxAzs":"*"}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Network/Vpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2a","cidrBlock":"10.0.0.0/19","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPublicSubnet1RouteTable30235CE2"},"subnetId":{"Ref":"NetworkVpcPublicSubnet1Subnet36933139"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"routeTableId":{"Ref":"NetworkVpcPublicSubnet1RouteTable30235CE2"}}}},"EIP":{"id":"EIP","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NetworkVpcPublicSubnet1EIPE0D52090","AllocationId"]},"subnetId":{"Ref":"NetworkVpcPublicSubnet1Subnet36933139"},"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2b","cidrBlock":"10.0.32.0/19","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPublicSubnet2RouteTable0FACEBB2"},"subnetId":{"Ref":"NetworkVpcPublicSubnet2SubnetC427CCE0"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"routeTableId":{"Ref":"NetworkVpcPublicSubnet2RouteTable0FACEBB2"}}}},"EIP":{"id":"EIP","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet2"}]}}},"NATGateway":{"id":"NATGateway","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NetworkVpcPublicSubnet2EIP24F41572","AllocationId"]},"subnetId":{"Ref":"NetworkVpcPublicSubnet2SubnetC427CCE0"},"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet2"}]}}}}},"PublicSubnet3":{"id":"PublicSubnet3","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2c","cidrBlock":"10.0.64.0/19","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet3"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet3"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPublicSubnet3RouteTable4F517CA2"},"subnetId":{"Ref":"NetworkVpcPublicSubnet3Subnet4BBF7F47"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"routeTableId":{"Ref":"NetworkVpcPublicSubnet3RouteTable4F517CA2"}}}},"EIP":{"id":"EIP","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet3/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet3"}]}}},"NATGateway":{"id":"NATGateway","path":"ProdStage/AppStack/Network/Vpc/PublicSubnet3/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["NetworkVpcPublicSubnet3EIP22F0C93C","AllocationId"]},"subnetId":{"Ref":"NetworkVpcPublicSubnet3Subnet4BBF7F47"},"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PublicSubnet3"}]}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2a","cidrBlock":"10.0.96.0/19","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PrivateSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PrivateSubnet1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPrivateSubnet1RouteTable7D7AA3CD"},"subnetId":{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NetworkVpcPublicSubnet1NATGateway64781A21"},"routeTableId":{"Ref":"NetworkVpcPrivateSubnet1RouteTable7D7AA3CD"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2b","cidrBlock":"10.0.128.0/19","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PrivateSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PrivateSubnet2"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPrivateSubnet2RouteTableC48862D1"},"subnetId":{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NetworkVpcPublicSubnet2NATGateway42CB86F5"},"routeTableId":{"Ref":"NetworkVpcPrivateSubnet2RouteTableC48862D1"}}}}}},"PrivateSubnet3":{"id":"PrivateSubnet3","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.223.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-2c","cidrBlock":"10.0.160.0/19","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PrivateSubnet3"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"Acl":{"id":"Acl","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc/PrivateSubnet3"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"NetworkVpcPrivateSubnet3RouteTable7FC52A8D"},"subnetId":{"Ref":"NetworkVpcPrivateSubnet3Subnet8ABFAF5C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ProdStage/AppStack/Network/Vpc/PrivateSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"NetworkVpcPublicSubnet3NATGateway5DD3AF93"},"routeTableId":{"Ref":"NetworkVpcPrivateSubnet3RouteTable7FC52A8D"}}}}}},"IGW":{"id":"IGW","path":"ProdStage/AppStack/Network/Vpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ProdStage/AppStack/Network/Vpc"}]}}},"VPCGW":{"id":"VPCGW","path":"ProdStage/AppStack/Network/Vpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"NetworkVpcIGW6BEA7B02"},"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"ProdStage/AppStack/Network/Vpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.223.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"ProdStage/AppStack/Network/Vpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}}}},"Cluster":{"id":"Cluster","path":"ProdStage/AppStack/Network/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.223.0","metadata":[{"enableFargateCapacityProviders":true,"containerInsights":true,"defaultCloudMapNamespace":{"name":"*"},"vpc":"*"},{"enableFargateCapacityProviders":[]},{"addDefaultCloudMapNamespace":[{"name":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Network/Cluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterSettings":[{"name":"containerInsights","value":"enabled"}]}}},"DefaultServiceDiscoveryNamespace":{"id":"DefaultServiceDiscoveryNamespace","path":"ProdStage/AppStack/Network/Cluster/DefaultServiceDiscoveryNamespace","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.PrivateDnsNamespace","version":"2.223.0","metadata":[{"name":"*","vpc":"*"}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Network/Cluster/DefaultServiceDiscoveryNamespace/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnPrivateDnsNamespace","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::PrivateDnsNamespace","aws:cdk:cloudformation:props":{"name":"blog-dev.com","vpc":{"Ref":"NetworkVpc7FB7348F"}}}}}},"Cluster":{"id":"Cluster","path":"ProdStage/AppStack/Network/Cluster/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnClusterCapacityProviderAssociations","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::ClusterCapacityProviderAssociations","aws:cdk:cloudformation:props":{"capacityProviders":["FARGATE","FARGATE_SPOT"],"cluster":{"Ref":"NetworkCluster17B54D11"},"defaultCapacityProviderStrategy":[]}}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"ProdStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.223.0"},"children":{"Staging":{"id":"Staging","path":"ProdStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"Role":{"id":"Role","path":"ProdStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}},"Handler":{"id":"Handler","path":"ProdStage/AppStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Api":{"id":"Api","path":"ProdStage/AppStack/Api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpApi","version":"2.223.0","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"name":"Api","protocolType":"HTTP"}}},"DefaultStage":{"id":"DefaultStage","path":"ProdStage/AppStack/Api/DefaultStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpStage","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Api/DefaultStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"autoDeploy":true,"stageName":"$default"}}}}},"VpcLinkSg":{"id":"VpcLinkSg","path":"ProdStage/AppStack/Api/VpcLinkSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.223.0","metadata":[{"vpc":"*","allowAllIpv6Outbound":true,"allowAllOutbound":true,"description":"*"},{"addEgressRule":["*",{},"*",true]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Api/VpcLinkSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security Group for API Gateway Vpc Link","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"},{"ipProtocol":"-1","cidrIpv6":"::/0","description":"Allow all outbound ipv6 traffic by default"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}}}},"VpcLink":{"id":"VpcLink","path":"ProdStage/AppStack/Api/VpcLink","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.VpcLink","version":"2.223.0","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Api/VpcLink/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnVpcLink","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::VpcLink","aws:cdk:cloudformation:props":{"name":"ProdStageAppStackApiVpcLink8DB90B93","securityGroupIds":[{"Fn::GetAtt":["ApiVpcLinkSg585A62E1","GroupId"]}],"subnetIds":[{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"},{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"},{"Ref":"NetworkVpcPrivateSubnet3Subnet8ABFAF5C"}]}}}}},"GET--posts--{id}":{"id":"GET--posts--{id}","path":"ProdStage/AppStack/Api/GET--posts--{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.223.0","metadata":["*"]},"children":{"getPost":{"id":"getPost","path":"ProdStage/AppStack/Api/GET--posts--{id}/getPost","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Api/GET--posts--{id}/getPost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"connectionId":{"Ref":"ApiVpcLink4F321C68"},"connectionType":"VPC_LINK","integrationMethod":"ANY","integrationType":"HTTP_PROXY","integrationUri":{"Fn::GetAtt":["GetPostAppServiceCloudmapService52F860BF","Arn"]},"payloadFormatVersion":"1.0"}}}}},"Resource":{"id":"Resource","path":"ProdStage/AppStack/Api/GET--posts--{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"authorizationType":"NONE","routeKey":"GET /posts/{id}","target":{"Fn::Join":["",["integrations/",{"Ref":"ApiGETpostsidgetPostB2674F9F"}]]}}}}}},"POST--posts":{"id":"POST--posts","path":"ProdStage/AppStack/Api/POST--posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.223.0","metadata":["*"]},"children":{"createPost":{"id":"createPost","path":"ProdStage/AppStack/Api/POST--posts/createPost","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.223.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/Api/POST--posts/createPost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["CreatePostD3E67D61","Arn"]},"payloadFormatVersion":"2.0"}}}}},"createPost-Permission":{"id":"createPost-Permission","path":"ProdStage/AppStack/Api/POST--posts/createPost-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreatePostD3E67D61","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-2:202865745565:",{"Ref":"ApiF70053CD"},"/*/*/posts"]]}}}},"Resource":{"id":"Resource","path":"ProdStage/AppStack/Api/POST--posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"ApiF70053CD"},"authorizationType":"NONE","routeKey":"POST /posts","target":{"Fn::Join":["",["integrations/",{"Ref":"ApiPOSTpostscreatePostF4B703B7"}]]}}}}}}}},"GetPost":{"id":"GetPost","path":"ProdStage/AppStack/GetPost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"GetPost":{"id":"GetPost","path":"ProdStage/AppStack/GetPost/GetPost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"LogGroup":{"id":"LogGroup","path":"ProdStage/AppStack/GetPost/GetPost/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.223.0","metadata":[{"retention":30}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30}}}}},"TaskDef":{"id":"TaskDef","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.223.0","metadata":["*","*","*","*","*","*","*","*","*","*","*","*","*"]},"children":{"TaskRole":{"id":"TaskRole","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AWSXRayDaemonWriteAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cloudwatch:PutMetricData","Effect":"Allow","Resource":"*"},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputFnGetAttPostsTableC82B36F0Arn40084DA1"},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"GetPostTaskDefTaskRoleDefaultPolicy48191C35","roles":[{"Ref":"GetPostTaskDefTaskRoleB6AF59D2"}]}}}}}}},"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"202865745565.dkr.ecr.us-east-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-202865745565-us-east-2:be81be754e1d0de5677163c355e558fbb9398bf0caadea46d533ec2487b7aca1"},"name":"getPost","portMappings":[{"containerPort":8080,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"getPost","awslogs-region":"us-east-2"}},"environment":[{"name":"TABLE_NAME","value":{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"}},{"name":"AWS_EMF_AGENT_ENDPOINT","value":"tcp://127.0.0.1:25888"},{"name":"LOG_LEVEL","value":"DEBUG"},{"name":"POWERTOOLS_SERVICE_NAME","value":"GetPostService"},{"name":"POWERTOOLS_METRICS_NAMESPACE","value":"blogApp"},{"name":"ENV","value":"dev"}],"healthCheck":{"command":["CMD-SHELL","curl -s http://127.0.0.1:8080/health"],"interval":5,"retries":1,"startPeriod":10,"timeout":2}},{"essential":true,"image":"amazon/aws-xray-daemon:latest","memoryReservation":256,"name":"xray","portMappings":[{"containerPort":2000,"protocol":"udp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"xray","awslogs-region":"us-east-2"}},"environment":[{"name":"AWS_REGION","value":"us-east-2"}],"healthCheck":{"command":["CMD-SHELL","curl -s http://localhost:2000"],"interval":5,"retries":3,"startPeriod":10,"timeout":2}},{"essential":true,"image":"public.ecr.aws/cloudwatch-agent/cloudwatch-agent:latest","memoryReservation":50,"name":"cloudwatch-agent","portMappings":[{"containerPort":25888,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"GetPostLogGroup615A249A"},"awslogs-stream-prefix":"cloudwatch-agent","awslogs-region":"us-east-2"}},"environment":[{"name":"CW_CONFIG_CONTENT","value":"{\"logs\":{\"metrics_collected\":{\"emf\":{}}},\"metrics\":{\"metrics_collected\":{\"statsd\":{}}}}"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["GetPostTaskDefExecutionRoleAAEEA792","Arn"]},"family":"ProdStageAppStackGetPostTaskDef95DC85E2","memory":"1024","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["GetPostTaskDefTaskRoleB6AF59D2","Arn"]}}}},"getPost":{"id":"getPost","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/getPost","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"},"children":{"AssetImage":{"id":"AssetImage","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.223.0"},"children":{"Staging":{"id":"Staging","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"Repository":{"id":"Repository","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/getPost/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.223.0","metadata":[]}}}}}},"ExecutionRole":{"id":"ExecutionRole","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*"},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-east-2:202865745565:repository/cdk-hnb659fds-container-assets-202865745565-us-east-2"},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["GetPostLogGroup615A249A","Arn"]}}],"Version":"2012-10-17"},"policyName":"GetPostTaskDefExecutionRoleDefaultPolicy7D07E747","roles":[{"Ref":"GetPostTaskDefExecutionRoleAAEEA792"}]}}}}}}},"xray":{"id":"xray","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/xray","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"}},"cloudwatch-agent":{"id":"cloudwatch-agent","path":"ProdStage/AppStack/GetPost/GetPost/TaskDef/cloudwatch-agent","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.223.0"}}}},"AppService":{"id":"AppService","path":"ProdStage/AppStack/GetPost/GetPost/AppService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.223.0","metadata":["*"]},"children":{"Service":{"id":"Service","path":"ProdStage/AppStack/GetPost/GetPost/AppService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"NetworkCluster17B54D11"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"deploymentCircuitBreaker":{"enable":true,"rollback":true}},"deploymentController":{"type":"ECS"},"enableEcsManagedTags":true,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"NetworkVpcPrivateSubnet1Subnet6DD86AE6"},{"Ref":"NetworkVpcPrivateSubnet2Subnet1BDBE877"},{"Ref":"NetworkVpcPrivateSubnet3Subnet8ABFAF5C"}],"securityGroups":[{"Fn::GetAtt":["GetPostAppServiceSecurityGroup04A7E398","GroupId"]}]}},"serviceRegistries":[{"registryArn":{"Fn::GetAtt":["GetPostAppServiceCloudmapService52F860BF","Arn"]},"containerName":"getPost","containerPort":8080}],"taskDefinition":{"Ref":"GetPostTaskDef74D442CE"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"ProdStage/AppStack/GetPost/GetPost/AppService/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.223.0","metadata":[{"vpc":"*"},{"addIngressRule":["*",{},"*",false]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/AppService/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"ProdStage/AppStack/GetPost/GetPost/AppService/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"NetworkVpc7FB7348F"}}}},"from ProdStageAppStackApiVpcLinkSg2A017863:8080":{"id":"from ProdStageAppStackApiVpcLinkSg2A017863:8080","path":"ProdStage/AppStack/GetPost/GetPost/AppService/SecurityGroup/from ProdStageAppStackApiVpcLinkSg2A017863:8080","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from ProdStageAppStackApiVpcLinkSg2A017863:8080","fromPort":8080,"groupId":{"Fn::GetAtt":["GetPostAppServiceSecurityGroup04A7E398","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ApiVpcLinkSg585A62E1","GroupId"]},"toPort":8080}}}}},"CloudmapService":{"id":"CloudmapService","path":"ProdStage/AppStack/GetPost/GetPost/AppService/CloudmapService","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.Service","version":"2.223.0","metadata":[{"namespace":"*","name":"*","dnsRecordType":"SRV","customHealthCheck":{"failureThreshold":"*"},"dnsTtl":"*"}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/AppService/CloudmapService/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnService","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::Service","aws:cdk:cloudformation:props":{"dnsConfig":{"dnsRecords":[{"type":"SRV","ttl":60}],"namespaceId":{"Fn::GetAtt":["NetworkClusterDefaultServiceDiscoveryNamespaceD090BA35","Id"]},"routingPolicy":"MULTIVALUE"},"healthCheckCustomConfig":{"failureThreshold":1},"namespaceId":{"Fn::GetAtt":["NetworkClusterDefaultServiceDiscoveryNamespaceD090BA35","Id"]}}}}}},"ScalingRole":{"id":"ScalingRole","path":"ProdStage/AppStack/GetPost/GetPost/AppService/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"TaskCount":{"id":"TaskCount","path":"ProdStage/AppStack/GetPost/GetPost/AppService/TaskCount","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ScalableTaskCount","version":"2.223.0"},"children":{"Target":{"id":"Target","path":"ProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.ScalableTarget","version":"2.223.0","metadata":[{"serviceNamespace":"ecs","scalableDimension":"*","resourceId":"*","role":"*","minCapacity":"*","maxCapacity":"*"},{"scaleToTrackMetric":["*",{"predefinedMetric":"*","targetValue":"*","policyName":"*","disableScaleIn":"*","scaleInCooldown":"*"}]},{"scaleToTrackMetric":["*",{"predefinedMetric":"*","policyName":"*","disableScaleIn":"*","targetValue":"*","scaleInCooldown":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalableTarget","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalableTarget","aws:cdk:cloudformation:props":{"maxCapacity":10,"minCapacity":1,"resourceId":{"Fn::Join":["",["service/",{"Ref":"NetworkCluster17B54D11"},"/",{"Fn::GetAtt":["GetPostAppServiceA50C5323","Name"]}]]},"roleArn":"arn:aws:iam::202865745565:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService","scalableDimension":"ecs:service:DesiredCount","serviceNamespace":"ecs"}}},"MemoryScaling":{"id":"MemoryScaling","path":"ProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/MemoryScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/MemoryScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"ProdStageAppStackGetPostAppServiceTaskCountTargetMemoryScaling32C528AF","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"GetPostAppServiceTaskCountTarget29996380"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageMemoryUtilization"},"targetValue":60}}}}}},"CpuScaling":{"id":"CpuScaling","path":"ProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/CpuScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/AppService/TaskCount/Target/CpuScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"ProdStageAppStackGetPostAppServiceTaskCountTargetCpuScalingC6EE6F94","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"GetPostAppServiceTaskCountTarget29996380"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageCPUUtilization"},"targetValue":60}}}}}}}}}}}},"Rule":{"id":"Rule","path":"ProdStage/AppStack/GetPost/GetPost/Rule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.223.0","metadata":[{"eventPattern":{"detailType":"*","source":"*","detail":"*"}},{"addEventPattern":[{"detailType":"*","source":"*","detail":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/Rule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"detail-type":["ECS Task State Change"],"source":["aws.ecs"],"detail":{"clusterArn":[{"Fn::GetAtt":["NetworkCluster17B54D11","Arn"]}],"desiredStatus":["STOPPED"],"stopCode":["ServiceSchedulerInitiated"],"stoppedReason":["Task failed container health checks"],"containers":{"name":["getPost"]}}},"state":"ENABLED"}}}}},"DeploymentFailing":{"id":"DeploymentFailing","path":"ProdStage/AppStack/GetPost/GetPost/DeploymentFailing","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.223.0","metadata":[{"metric":{"warnings":"*","warningsV2":"*"},"threshold":"*","evaluationPeriods":"*","treatMissingData":"notBreaching"}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/GetPost/GetPost/DeploymentFailing/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"RuleName","value":{"Ref":"GetPostRule216A33F2"}}],"evaluationPeriods":1,"metricName":"TriggeredRules","namespace":"AWS/Events","period":10,"statistic":"Average","threshold":1,"treatMissingData":"notBreaching","unit":"Count"}}}}}}}}},"CreatePost":{"id":"CreatePost","path":"ProdStage/AppStack/CreatePost","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"PowertoolsLayer":{"id":"PowertoolsLayer","path":"ProdStage/AppStack/CreatePost/PowertoolsLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"CreatePost":{"id":"CreatePost","path":"ProdStage/AppStack/CreatePost/CreatePost","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[{"description":"*","environment":"*","layers":["*"],"memorySize":"*","tracing":"Active","architecture":"*","runtime":"*","handler":"*","code":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":["*"]},{"addEnvironment":["*","*",{"removeInEdge":true}]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ProdStage/AppStack/CreatePost/CreatePost/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ProdStage/AppStack/CreatePost/CreatePost/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ProdStage/AppStack/CreatePost/CreatePost/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ProdStage/AppStack/CreatePost/CreatePost/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/CreatePost/CreatePost/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputFnGetAttPostsTableC82B36F0Arn40084DA1"},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"CreatePostServiceRoleDefaultPolicy45EA3357","roles":[{"Ref":"CreatePostServiceRole3F6FFE7F"}]}}}}}}},"Code":{"id":"Code","path":"ProdStage/AppStack/CreatePost/CreatePost/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ProdStage/AppStack/CreatePost/CreatePost/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ProdStage/AppStack/CreatePost/CreatePost/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ProdStage/AppStack/CreatePost/CreatePost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-202865745565-us-east-2","s3Key":"a719789b9a9d29df4465106a3d79f53742df35de33fce3c8d5ebfba8cb5b63b2.zip"},"description":"src/posts/create.lambda.ts","environment":{"variables":{"LOG_LEVEL":"DEBUG","POWERTOOLS_LOGGER_LOG_EVENT":"true","POWERTOOLS_SERVICE_NAME":"CreateFunction","POWERTOOLS_METRICS_NAMESPACE":"blogApp","ENV":"dev","TABLE_NAME":{"Fn::ImportValue":"ProdStage-DataStack:ExportsOutputRefPostsTableC82B36F06B4D022D"},"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","layers":["arn:aws:lambda:us-east-2:094274105915:layer:AWSLambdaPowertoolsTypeScript:15"],"memorySize":256,"role":{"Fn::GetAtt":["CreatePostServiceRole3F6FFE7F","Arn"]},"runtime":"nodejs18.x","tracingConfig":{"mode":"Active"}}}},"LogGroup":{"id":"LogGroup","path":"ProdStage/AppStack/CreatePost/CreatePost/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.223.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"ProdStage/AppStack/CreatePost/CreatePost/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"CreatePostD3E67D61"}]]},"retentionInDays":731}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"ProdStage/AppStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Default":{"id":"Default","path":"ProdStage/AppStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"ProdStage/AppStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"},"children":{"Output{\"Ref\":\"ApiF70053CD\"}":{"id":"Output{\"Ref\":\"ApiF70053CD\"}","path":"ProdStage/AppStack/Exports/Output{\"Ref\":\"ApiF70053CD\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}","path":"ProdStage/AppStack/Exports/Output{\"Fn::GetAtt\":[\"GetPostAppServiceA50C5323\",\"Name\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"NetworkCluster17B54D11\"}":{"id":"Output{\"Ref\":\"NetworkCluster17B54D11\"}","path":"ProdStage/AppStack/Exports/Output{\"Ref\":\"NetworkCluster17B54D11\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"CreatePostD3E67D61\"}":{"id":"Output{\"Ref\":\"CreatePostD3E67D61\"}","path":"ProdStage/AppStack/Exports/Output{\"Ref\":\"CreatePostD3E67D61\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ProdStage/AppStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ProdStage/AppStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.3.0"}}}}}